"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[48145],{29087:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>a});var i=t(96363);const d={},l=i.createContext(d);function r(n){const e=i.useContext(l);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:r(n.components),i.createElement(l.Provider,{value:e},n.children)}},57490:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>a,default:()=>v,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"\u4e8b\u4ef6 event/\u9636\u6bb5","title":"\u9636\u6bb5","description":"DOM \uff08\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\u7ed3\u6784\u662f\u4e00\u4e2a\u6811\u578b\u7ed3\u6784\u3002\u5f53\u4e00\u4e2a HTML \u5143\u7d20\u4ea7\u751f\u4e00\u4e2a\u4e8b\u4ef6\u65f6\uff0c\u8be5\u4e8b\u4ef6\u4f1a\u5728\u5143\u7d20\u8282\u70b9\u4e0e\u6839\u8282\u70b9\u4e4b\u95f4\u7684\u8def\u5f84\u4f20\u64ad\uff0c\u8def\u5f84\u6240\u7ecf\u8fc7\u7684\u8282\u70b9\u90fd\u4f1a\u6536\u5230\u8be5\u4e8b\u4ef6\uff0c\u8fd9\u4e2a\u4f20\u64ad\u8fc7\u7a0b\u53ef\u79f0\u4e3a DOM \u4e8b\u4ef6\u6d41\u3002","source":"@site/js/\u4e8b\u4ef6 event/\u9636\u6bb5.mdx","sourceDirName":"\u4e8b\u4ef6 event","slug":"/\u4e8b\u4ef6 event/\u9636\u6bb5","permalink":"/js/\u4e8b\u4ef6 event/\u9636\u6bb5","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u9636\u6bb5"},"sidebar":"az2Kt0VR0KcelL2W","previous":{"title":"all","permalink":"/js/\u4e8b\u4ef6 event/all"},"next":{"title":"\u76d1\u542c","permalink":"/js/\u4e8b\u4ef6 event/\u76d1\u542c"}}');var d=t(47259),l=t(29087);const r={title:"\u9636\u6bb5"},a="\u4e8b\u4ef6\u6d41",s={},c=[{value:"\u9636\u6bb5",id:"\u9636\u6bb5",level:2},{value:"\u6355\u83b7\u9636\u6bb5\uff08 capturing phase \uff09",id:"\u6355\u83b7\u9636\u6bb5-capturing-phase-",level:2},{value:"\u5192\u6ce1\u578b",id:"\u5192\u6ce1\u578b",level:2},{value:"\u6355\u83b7\u578b",id:"\u6355\u83b7\u578b",level:2},{value:"\u76ee\u6807\u9636\u6bb5\uff08 targeting phase \uff09",id:"\u76ee\u6807\u9636\u6bb5-targeting-phase-",level:2},{value:"\u5192\u6ce1\u9636\u6bb5\uff08 bubbling phase \uff09",id:"\u5192\u6ce1\u9636\u6bb5-bubbling-phase-",level:2},{value:"\u4e8b\u4ef6\u64a4\u9500",id:"\u4e8b\u4ef6\u64a4\u9500",level:2},{value:"\u53d6\u6d88\u4e8b\u4ef6\u4f20\u9012\u540e\u7684\u9ed8\u8ba4\u5904\u7406",id:"\u53d6\u6d88\u4e8b\u4ef6\u4f20\u9012\u540e\u7684\u9ed8\u8ba4\u5904\u7406",level:2}];function o(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,l.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"\u4e8b\u4ef6\u6d41",children:"\u4e8b\u4ef6\u6d41"})}),"\n",(0,d.jsx)(e.p,{children:"DOM \uff08\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\u7ed3\u6784\u662f\u4e00\u4e2a\u6811\u578b\u7ed3\u6784\u3002\u5f53\u4e00\u4e2a HTML \u5143\u7d20\u4ea7\u751f\u4e00\u4e2a\u4e8b\u4ef6\u65f6\uff0c\u8be5\u4e8b\u4ef6\u4f1a\u5728\u5143\u7d20\u8282\u70b9\u4e0e\u6839\u8282\u70b9\u4e4b\u95f4\u7684\u8def\u5f84\u4f20\u64ad\uff0c\u8def\u5f84\u6240\u7ecf\u8fc7\u7684\u8282\u70b9\u90fd\u4f1a\u6536\u5230\u8be5\u4e8b\u4ef6\uff0c\u8fd9\u4e2a\u4f20\u64ad\u8fc7\u7a0b\u53ef\u79f0\u4e3a DOM \u4e8b\u4ef6\u6d41\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u6355\u83b7\u578b\u4e8b\u4ef6\uff08 Capturing \uff09\uff1a Netscape Navigator \u7684\u5b9e\u73b0\uff0c\u4e0e\u5192\u6ce1\u578b\u521a\u597d\u76f8\u53cd\uff0c\u7531 DOM \u6811\u6700\u9876\u5c42\u5143\u7d20\u4e00\u76f4\u5230\u6700\u7cbe\u786e\u7684\u5143\u7d20\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u5192\u6ce1\u578b\u4e8b\u4ef6\uff08 Bubbling \uff09\uff1a\u4ece DOM \u6811\u578b\u7ed3\u6784\u4e0a\u7406\u89e3\uff0c\u5c31\u662f\u4e8b\u4ef6\u7531\u53f6\u5b50\u8282\u70b9\u6cbf\u7956\u5148\u8282\u70b9\u4e00\u76f4\u5411\u4e0a\u4f20\u9012\u76f4\u5230\u6839\u8282\u70b9\uff1b\u4ece\u6d4f\u89c8\u5668\u754c\u9762\u89c6\u56fe\nHTML \u5143\u7d20\u6392\u5217\u5c42\u6b21\u4e0a\u7406\u89e3\uff0c\u5c31\u662f\u4e8b\u4ef6\u7531\u5177\u6709\u4ece\u5c5e\u5173\u7cfb\u7684\u6700\u786e\u5b9a\u7684\u76ee\u6807\u5143\u7d20\u4e00\u76f4\u4f20\u9012\u5230\u6700\u4e0d\u786e\u5b9a\u7684\u76ee\u6807\u5143\u7d20\u3002"}),"\n",(0,d.jsx)(e.p,{children:"DOM \u6807\u51c6\u4e8b\u4ef6\u6a21\u578b\u7531\u4e8e\u4e24\u4e2a\u4e0d\u540c\u7684\u6a21\u578b\u90fd\u6709\u5176\u4f18\u70b9\u548c\u89e3\u91ca\uff0c DOM \u6807\u51c6\u652f\u6301\u6355\u83b7\u578b\u4e0e\u5192\u6ce1\u578b\uff0c\u53ef\u4ee5\u8bf4\u662f\u5b83\u4eec\u4e24\u8005\u7684\u7ed3\u5408\u4f53\u3002\u5b83\u53ef\u4ee5\u5728\u4e00\u4e2a DOM \u5143\u7d20\u4e0a\u7ed1\u5b9a\u591a\u4e2a\u4e8b\u4ef6\u5904\u7406\u5668\uff0c\u5e76\u4e14\u5728\u5904\u7406\u51fd\u6570\u5185\u90e8\uff0c this \u5173\u952e\u5b57\u4ecd\u7136\u6307\u5411\u88ab\u7ed1\u5b9a\u7684\nDOM \u5143\u7d20\uff0c\u53e6\u5916\uff0c\u5904\u7406\u51fd\u6570\u53c2\u6570\u5217\u8868\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u4f20\u9012\u4e8b\u4ef6 Event \u5bf9\u8c61\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u9996\u5148\u662f\u6355\u83b7\u5f0f\u4f20\u9012\u4e8b\u4ef6\uff0c\u63a5\u7740\u662f\u5192\u6ce1\u5f0f\u4f20\u9012\u3002\u6240\u4ee5\uff0c\u5982\u679c\u4e00\u4e2a\u5904\u7406\u51fd\u6570\u65e2\u6ce8\u518c\u4e86\u6355\u83b7\u578b\u4e8b\u4ef6\u7684\u76d1\u542c\uff0c\u53c8\u6ce8\u518c\u4e86\u5192\u6ce1\u578b\u4e8b\u4ef6\u76d1\u542c\uff0c\u90a3\u4e48\u5728 DOM \u4e8b\u4ef6\u6a21\u578b\u4e2d\u5b83\u5c31\u4f1a\u88ab\u8c03\u7528\u4e24\u6b21\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"\u9636\u6bb5",children:"\u9636\u6bb5"}),"\n",(0,d.jsx)(e.p,{children:"W3C \u5bf9 DOM \u4e8b\u4ef6\u5b9a\u4e49\u4e86 3\u4e2a\u9636\u6bb5\uff1a\u6355\u83b7\u9636\u6bb5\u3001\u76ee\u6807\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u6bcf\u5f53\u4e8b\u4ef6\u88ab\u89e6\u53d1\u65f6\uff0c\u4e8b\u4ef6\u4ece DOM \u6700\u5916\u5c42\u7684\u5143\u7d20\uff08\u5728 DOM \u6811\u578b\u7ed3\u6784\u6700\u9876\u7aef\u7684\u5143\u7d20\uff0c\u8fd9\u91cc\u5c31\u662f body \u5143\u7d20\uff09\u5f00\u59cb\uff0c\u7136\u540e\u6cbf\u7740\u6700\u77ed\u7684\u8def\u5f84\u5411 target \uff08\u76ee\u6807\u8282\u70b9\uff09\u904d\u5386\uff0c\u8fd9\u5c31\u662f\u6355\u83b7\u9636\u6bb5\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u5f53\u5230\u8fbe\u76ee\u6807\u8282\u70b9\u540e\uff0c\u4e8b\u4ef6\u5c31\u8f6c\u5230\u76ee\u6807\u8282\u70b9\u9636\u6bb5\u3002\u7136\u540e\u6cbf\u7740 DOM \u6811\u4e0a\u6eaf\u5230\u6700\u5916\u5c42\u7684\u8282\u70b9\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f\u5192\u6ce1\uff08 bubbling \uff09\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u53ef\u4ee5\u5b9a\u4e49\u5982\u4e0b\u4ee3\u7801\u6765\u68c0\u6d4b\uff08\u6ce8\u610f\uff0c\u8fd9\u91cc\u53c8\u5b9a\u4e49\u4e86\u4e00\u4e2a div \u5143\u7d20\u7528\u4e8e\u663e\u793a\u68c0\u6d4b\u7684\u8f93\u51fa\u7ed3\u679c\uff09\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:"<body>\n  <div id=\"showResult\" style=\"width:700px;text-align:left;\"></div>\n  <script>\n    //   \u83b7\u53d6 div \u5143\u7d20\u7684\u5f15\u7528\n    var oBody = document.body;\n    var oDivParent = document.getElementById('divParent');\n    var oDivChildA = document.getElementById('divChildA');\n    var oResult = document.getElementById('showResult');\n    // \u68c0\u6d4b\u4e8b\u4ef6\u6240\u5904\u9636\u6bb5\n    function checkPhase(evt) {\n      var phase;\n      //   \u4f7f\u7528 eventPhase \u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u4e8b\u4ef6\u6240\u5904\u9636\u6bb5\u7684\u4fe1\u606f\n      // // \u4f4e\u7248\u672c IE \u6ca1\u6709\u5b9a\u4e49\u8be5\u5c5e\u6027\n      if (evt.eventPhase == 1) {\n        phase = '\u6355\u83b7\u9636\u6bb5 ';\n      } else if (evt.eventPhase == 2) {\n        phase = '\u76ee\u6807\u9636\u6bb5 ';\n      } else if (evt.eventPhase == 3) {\n        phase = '\u5192\u6ce1\u9636\u6bb5 ';\n      }\n      return phase;\n    }\n    var oBodyClick = function (evt) {\n      oResult.innerHTML +=\n        ' === === == [body] === ' + checkPhase(evt) + ' === === == ';\n      oResult.innerHTML += '[evt.currentTarget] = ' + evt.currentTarget.id + '';\n      oResult.innerHTML += '[evt.target] = ' + evt.target.id + '  ';\n    };\n    var oDivParentClick = function (evt) {\n      oResult.innerHTML +=\n        ' === === == [divParent] === ' + checkPhase(evt) + ' === === ==';\n      oResult.innerHTML +=\n        '[evt.currentTarget] = ' + evt.currentTarget.id + '  ';\n      oResult.innerHTML += '[evt.target] = ' + evt.target.id + '  ';\n    };\n    var oDivChildAClick = function (evt) {\n      oResult.innerHTML +=\n        ' ====== == [divChildA] === ' + checkPhase(evt) + ' === === ==  ';\n      oResult.innerHTML +=\n        '[evt.currentTarget] = ' + evt.currentTarget.id + '  ';\n\n      oResult.innerHTML += '[evt.target] = ' + evt.target.id + '  ';\n    };\n    oDivChildA.addEventListener('click', oDivChildAClick, true);\n    oDivParent.addEventListener('click', oDivParentClick, true);\n    oBody.addEventListener('click', oBodyClick, true);\n  <\/script>\n</body>\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u6355\u83b7\u9636\u6bb5-capturing-phase-",children:"\u6355\u83b7\u9636\u6bb5\uff08 capturing phase \uff09"}),"\n",(0,d.jsx)(e.p,{children:"\u5f53\u9f20\u6807\u5728 divChildA \u4e0a\u89e6\u53d1\u5355\u51fb\u4e8b\u4ef6\u65f6\uff0c\u9996\u5148\u6355\u6349\u5230\u8be5\u4e8b\u4ef6\u7684\u662f\u6839\u8282\u70b9\uff0c\u4e5f\u5c31\u662f body \u5143\u7d20\uff0c\u7136\u540e\u4e8b\u4ef6\u9010\u5c42\u5411\u4e0b\u4f20\u9012\uff0c\u5148\u5230 divParent \uff0c\u518d\u5230 divChildA \uff0c\u8fd9\u662f\u6355\u83b7\u9636\u6bb5\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u5f53\u9f20\u6807\u5728 divChildB \u4e0a\u89e6\u53d1\u5355\u51fb\u4e8b\u4ef6\u65f6\uff0c\u9996\u5148\u6355\u6349\u5230\u8be5\u4e8b\u4ef6\u7684\u4e5f\u662f\u6839\u8282\u70b9\uff0c\u4e5f\u5c31\u662f body \u5143\u7d20\uff0c\u7136\u540e\u4e8b\u4ef6\u9010\u5c42\u5411\u4e0b\u4f20\u9012\uff0c\u5148\u5230 divParent \uff0c\u518d\u5230 divChildB \u8fd9\u4e5f\u662f\u6355\u83b7\u9636\u6bb5\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u6ce8\u610f\u4e8b\u4ef6\u7684\u89e6\u53d1\u987a\u5e8f\uff0c\u5e76\u4e14\u8fd8\u8981\u6ce8\u610f currentTarget \u548c target \u5c5e\u6027\u7684\u533a\u522b\uff1a target \u5c5e\u6027\u7684\u503c\u59cb\u7ec8\u662f divChildA \uff0c\u800c currentTarget \u5c5e\u6027\u5219\u6709\u6240\u53d8\u5316\uff08 body \u5143\u7d20\u56e0\u4e3a\u6ca1\u6709\u5b9a\u4e49\nid \u5c5e\u6027\uff0c\u6240\u4ee5\u662f\u7a7a\u503c\uff09\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"\u5192\u6ce1\u578b",children:"\u5192\u6ce1\u578b"}),"\n",(0,d.jsx)(e.p,{children:'\u4ece\u7279\u5b9a\u76ee\u6807\u5411\u4e0d\u7279\u5b9a\u7684\u76ee\u6807\uff08 document \u5bf9\u8c61\uff09\u4e00\u6b21\u89e6\u53d1\u4e8b\u4ef6\uff0c\u4e5f\u5c31\u662f\u8bf4\u4ece\u4e0b\u5411\u4e0a\u8fdb\u884c\u54cd\u5e94\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u5f62\u8c61\u7684\u79f0\u4e3a "\u5192\u6ce1 "\u3002'}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta\n      name="viewport"\n      content="width=device-width,\ninitial-scale=1.0"\n    />\n\n    <title>\u5192\u4e2a\u6ce1\u6ce1</title>\n    <style>\n      div {\n        margin: 20px;\n        border: solid 1px blue;\n        font-size: 20px;\n      }\n    </style>\n    <script>\n      function bubble() {\n        var div = document.getElementsByTagName(\'div\');\n        var show = document.getElementById(\'show\');\n        for (var i = 0; i < div.length; i++) {\n          div[i].onclick = (function (i) {\n            return function () {\n              div[i].style.border = \'1px dashed #f00\';\n              show.innerHTML += div[i].className + \' > \';\n            };\n          })(i);\n        }\n      }\n      window.onload = bubble;\n    <\/script>\n  </head>\n  <body>\n    <div class="div-1">\n      div-1\n      <div class="div-2">\n        div-2\n        <div class="div-3">\n          div-3\n          <div class="div-4">\n            div-4\n            <div class="div-5">div-5</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <p id="show"></p>\n  </body>\n</html>\n'})}),"\n",(0,d.jsx)(e.h2,{id:"\u6355\u83b7\u578b",children:"\u6355\u83b7\u578b"}),"\n",(0,d.jsx)(e.p,{children:"\u4e8b\u4ef6\u4ece\u4e0d\u7279\u5b9a\u7684\u76ee\u6807\uff08 document \u5bf9\u8c61\uff09\u5f00\u59cb\u89e6\u53d1\uff0c\u6700\u540e\u5411\u7279\u5b9a\u7684\u76ee\u6807\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta\n      name="viewport"\n      content="width=device-width,\ninitial-scale=1.0"\n    />\n    <title>\u5192\u4e2a\u6ce1\u6ce1</title>\n    <style>\n      div {\n        margin: 20px;\n        border: solid 1px blue;\n        font-size: 20px;\n      }\n    </style>\n    <script>\n      function bubble() {\n        var div = document.getElementsByTagName(\'div\');\n        var show = document.getElementById(\'show\');\n        for (var i = 0; i < div.length; i++) {\n          div[i].addEventListener(\n            \'click\',\n            (function (i) {\n              return function () {\n                div[i].style.border = \'1px dashed #f00\';\n                show.innerHTML += div[i].className + \' > \';\n              };\n            })(i),\n            true,\n          );\n        }\n      }\n      window.onload = bubble;\n    <\/script>\n  </head>\n  <body>\n    <div class="div-1">\n      div-1\n      <div class="div-2">\n        div-2\n        <div class="div-3">\n          div-3\n          <div class="div-4">\n            div-4\n            <div class="div-5">div-5</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <p id="show"></p>\n  </body>\n</html>\n'})}),"\n",(0,d.jsx)(e.p,{children:"W3C \u7684 DOM \u652f\u6301\u6355\u83b7\u578b\u548c\u5192\u6ce1\u578b\u4e24\u79cd\u4e8b\u4ef6\u6d41\uff0c\u4f46\u662f\u6355\u83b7\u578b\u4e8b\u4ef6\u6d41\u4f1a\u5148\u53d1\u751f\uff0c\u7136\u540e\u624d\u662f\u5192\u6ce1\u578b\u4e8b\u4ef6\u6d41\u3002\u4e24\u79cd\u4e8b\u4ef6\u6d41\u4f1a\u89e6\u53ca DOM \u4e2d\u7684\u6240\u6709\u5c42\u7ea7\u5bf9\u8c61\uff0c\u4ece document \u5bf9\u8c61\u5f00\u59cb\uff0c\u6700\u540e\u8fd4\u56de document\n\u5bf9\u8c61\u7ed3\u675f\u3002\u5176\u4e2d\uff0c\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a\u6355\u83b7\u9636\u6bb5\u3001\u76ee\u6807\u9636\u6bb5\u3001\u5192\u6ce1\u9636\u6bb5\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"\u76ee\u6807\u9636\u6bb5-targeting-phase-",children:"\u76ee\u6807\u9636\u6bb5\uff08 targeting phase \uff09"}),"\n",(0,d.jsx)(e.p,{children:"\u4ece\u524d\u9762\u7684\u8303\u4f8b\u53ef\u4ee5\u770b\u5230\uff0c\u5bf9\u4e8e divChildB \uff0c\u7ecf\u8fc7\u6355\u6349\u9636\u6bb5\u8fdb\u5165\u76ee\u6807\u9636\u6bb5\u5c31\u505c\u6b62\u4e86\uff0c\u5f53\u9f20\u6807\u5728 divChildA \u4e0a\u5355\u51fb\u65f6\uff0c\u7531\u4e8e\u5b9a\u4e49\u4e86\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\uff0c\u5728\u76ee\u6807\u9636\u6bb5\u4f1a\u89e6\u53d1\u4e8b\u4ef6\uff0c\u800c\ndivChildB \u6ca1\u6709\u5b9a\u4e49\u76d1\u542c\u51fd\u6570\uff0c\u6240\u4ee5\uff0c\u5f53\u5355\u51fb\u65f6\u4e0d\u4f1a\u6709\u54cd\u5e94\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"\u5192\u6ce1\u9636\u6bb5-bubbling-phase-",children:"\u5192\u6ce1\u9636\u6bb5\uff08 bubbling phase \uff09"}),"\n",(0,d.jsx)(e.p,{children:"\u5728\u5904\u7406\u4e86\u76ee\u6807\u9636\u6bb5\u7684\u4e8b\u4ef6\u540e\u5c31\u8fdb\u5165\u4e86\u5192\u6ce1\u9636\u6bb5\uff0c\u4e4b\u6240\u4ee5\u79f0\u4e4b\u4e3a\u5192\u6ce1\uff0c\u662f\u56e0\u4e3a\u5b83\u6cbf\u7740\u539f\u6765\u7684\u8def\u5f84\u56de\u6eaf\u3002\u5148\u5230\u7236\u8282\u70b9 divParent \uff0c\u76f4\u5230\u6839\u8282\u70b9\u4e3a\u6b62\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u50cf\u662f\u5192\u6ce1\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u8981\u89e6\u53d1\u5192\u6ce1\u9636\u6bb5\u7684\u4e8b\u4ef6\uff0c\u5c31\u5fc5\u987b\u8bbe\u7f6e addEventListener()\u65b9\u6cd5\u6ce8\u518c\u4e8b\u4ef6\u76d1\u542c\u65f6\u53c2\u6570 useCapture \u4e3a false \uff0c\u8fd9\u4e5f\u662f\u4f4e\u7248\u672c IE \u6240\u652f\u6301\u7684\u65b9\u5f0f\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"oDivChildA.addEventListener('click', oDivChildAClick, false);\noDivParent.addEventListener('click', oDivParentClick, false);\noBody.addEventListener('click', oBodyClick, false);\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u68c0\u6d4b\u65e7\u7248 IE \u7684\u5de5\u4f5c\u60c5\u51b5\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:"<div id=\"showResult\" style=\"width:700px;text-align:left;\"></div>\n<script>\n  //\u83b7\u53d6 div \u5143\u7d20\u7684\u5f15\u7528\n  var oBody = document.body;\n  var oDivParent = document.getElementById('divParent');\n  var oDivChildA = document.getElementById('divChildA');\n  var oResult = document.getElementById('showResult');\n  var oBodyClick = function () {\n    var evt = window.event;\n    oResult.innerHTML += ' === === [body] === === < br / > ';\n    oResult.innerHTML +=\n      '[evt.srcElement] = ' + evt.srcElement.id + ' < br / > ';\n  };\n  var oDivParentClick = function () {\n    var evt = window.event;\n    oResult.innerHTML += ' === === [divParent] === === <br /> ';\n    oResult.innerHTML += '[evt.srcElement] = ' + evt.srcElement.id + ' <br /> ';\n  };\n  var oDivChildAClick = function () {\n    var evt = window.event;\n    oResult.innerHTML += ' === === [divChildA] === === <br/> ';\n    oResult.innerHTML += '[evt.srcElement] = ' + evt.srcElement.id + ' <br/> ';\n  };\n  oDivChildA.attachEvent('onclick', oDivChildAClick);\n  oDivParent.attachEvent('onclick', oDivParentClick);\n  oBody.attachEvent('onclick', oBodyClick);\n<\/script>\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u6ce8\u610f\u4e8b\u4ef6\u89e6\u53d1\u7684\u987a\u5e8f\u662f\u4e00\u4e2a\u5192\u6ce1\u8fc7\u7a0b\u3002\u4e5f\u53ef\u4ee5\u4f7f\u7528\ncancelBubble \u5c5e\u6027\u53d6\u6d88\u5192\u6ce1\u9636\u6bb5\uff0c\u8be5\u5c5e\u6027\u8981\u5728\u6ce8\u518c\u4e8b\u4ef6\u76d1\u542c\u7a0b\u5e8f\u540e\u5b9a\u4e49\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"oDivChildA.attachEvent('onclick', oDivChildAClick);\nwindow.event.cancelBubble = true;\noDivParent.attachEvent('onclick', oDivParentClick);\noBody.attachEvent('onclick', oBodyClick);\n// W3C DOM \u4f7f\u7528 stopPropagation()\u65b9\u6cd5\u5b9e\u73b0\u53d6\u6d88\u5192\u6ce1\u9636\u6bb5\uff1a\nwindow.event.stopPropagation();\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u4e8b\u4ef6\u64a4\u9500",children:"\u4e8b\u4ef6\u64a4\u9500"}),"\n",(0,d.jsx)(e.p,{children:"\u53d6\u6d88\u6d4f\u89c8\u5668\u7684\u4e8b\u4ef6\u4f20\u9012\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u53d6\u6d88\u4e8b\u4ef6\u4f20\u9012\u662f\u6307\u505c\u6b62\u6355\u83b7\u578b\u4e8b\u4ef6\u6216\u5192\u6ce1\u578b\u4e8b\u4ef6\u7684\u8fdb\u4e00\u6b65\u4f20\u9012\u3002\u4f8b\u5982\uff0c\u4e0a\u9762\u7684\u5192\u6ce1\u578b\u4e8b\u4ef6\u4f20\u9012\u4e2d\uff0c\u5728 body \u5904\u7406\u505c\u6b62\u4e8b\u4ef6\u4f20\u9012\u540e\uff0c\u4f4d\u4e8e\u4e0a\u5c42\u7684 document \u7684\u4e8b\u4ef6\u76d1\u542c\u5668\u5c31\u4e0d\u518d\u6536\u5230\u901a\u77e5\uff0c\u4e0d\u518d\u88ab\u5904\u7406\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u5728 IE \u4e0b\uff0c\u901a\u8fc7\u8bbe\u7f6e Event \u5bf9\u8c61\u7684 cancelBubble \u4e3a true \u5373\u53ef\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"function someHandle() {\n  window.event.cancelBubble = true;\n}\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u5728 DOM \u6807\u51c6\u4e0b\uff0c\u901a\u8fc7\u8c03\u7528 Event \u5bf9\u8c61\u7684 stopPropagation \u65b9\u6cd5\u5373\u53ef\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"function someHandle(event) {\n  event.stopPropagation();\n}\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u56e0\u6b64\uff0c\u8de8\u6d4f\u89c8\u5668\u7684\u53d6\u6d88\u4e8b\u4ef6\u4f20\u9012\u7684\u65b9\u6cd5\u662f\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"function someHandle(event) {\n  event = event || window.event;\n  if (event.stopPropagation) event.stopPropagation();\n  else event.cancelBubble = true;\n}\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u53d6\u6d88\u4e8b\u4ef6\u4f20\u9012\u540e\u7684\u9ed8\u8ba4\u5904\u7406",children:"\u53d6\u6d88\u4e8b\u4ef6\u4f20\u9012\u540e\u7684\u9ed8\u8ba4\u5904\u7406"}),"\n",(0,d.jsx)(e.p,{children:"\u4e8b\u4ef6\u4f20\u9012\u540e\u7684\u9ed8\u8ba4\u5904\u7406\u662f\u6307\uff0c\u901a\u5e38\u6d4f\u89c8\u5668\u5728\u4e8b\u4ef6\u4f20\u9012\u5e76\u5904\u7406\u5b8c\u540e\u4f1a\u6267\u884c\u4e0e\u8be5\u4e8b\u4ef6\u5173\u8054\u7684\u9ed8\u8ba4\u52a8\u4f5c\uff08\u5982\u679c\u5b58\u5728\u8fd9\u6837\u7684\u52a8\u4f5c\uff09\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u5728 IE \u4e0b\uff0c\u901a\u8fc7\u8bbe\u7f6e Event \u5bf9\u8c61\u7684 returnValue \u4e3a false \u5373\u53ef\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"function someHandle() {\n  window.event.returnValue = false;\n}\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u5728 DOM \u6807\u51c6\u4e0b\uff0c\u901a\u8fc7\u8c03\u7528 Event \u5bf9\u8c61\u7684 preventDefault \u65b9\u6cd5\u5373\u53ef\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"function someHandle(event) {\n  event.preventDefault();\n}\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u56e0\u6b64\uff0c\u8de8\u6d4f\u89c8\u5668\u7684\u53d6\u6d88\u4e8b\u4ef6\u4f20\u9012\u540e\u7684\u9ed8\u8ba4\u5904\u7406\u7684\u65b9\u6cd5\u662f\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",children:"function someHandle(event) {\n  event = event || window.event;\n  if (event.preventDefault) event.preventDefault();\n  else event.returnValue = false;\n}\n"})})]})}function v(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(o,{...n})}):o(n)}}}]);