"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[25117],{29087:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var t=s(96363);const r={},i=t.createContext(r);function l(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}},70141:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"js/\u663e\u9690","title":"\u663e\u9690","description":"\u7b80\u5355\u7684\u9690\u85cf\u53ef\u7528 style.display \u8bbe\u7f6e\u3002","source":"@site/css/js/\u663e\u9690.mdx","sourceDirName":"js","slug":"/js/\u663e\u9690","permalink":"/css/js/\u663e\u9690","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u663e\u9690"},"sidebar":"gVe8msub0nGsB23F","previous":{"title":"\u4f4d\u7f6e\u504f\u79fb","permalink":"/css/js/\u4f4d\u7f6e\u504f\u79fb"},"next":{"title":"\u6ed1\u52a8","permalink":"/css/js/\u6ed1\u52a8"}}');var r=s(47259),i=s(29087);const l={title:"\u663e\u9690"},a="\u53ef\u89c1\u6027",c={},o=[{value:"\u900f\u660e\u5ea6",id:"\u900f\u660e\u5ea6",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u53ef\u89c1\u6027",children:"\u53ef\u89c1\u6027"})}),"\n",(0,r.jsx)(n.p,{children:"\u7b80\u5355\u7684\u9690\u85cf\u53ef\u7528 style.display \u8bbe\u7f6e\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<p>p1</p>\n<p class=\"hover\">p2</p>\n<p>p3</p>\n<script>\n  var p = document.querySelectorAll('p');\n  for (var i = 0; i < p.length; i++) {\n    if (p[i].className == 'hover') continue;\n    p[i].style.display = 'none';\n  }\n<\/script>\n"})}),"\n",(0,r.jsx)(n.p,{children:'\u6062\u590d\u663e\u793a\u53ea\u9700\u8bbe\u7f6e style.display="" \u3002'}),"\n",(0,r.jsx)(n.p,{children:"\u82e5\u5e38\u7528\uff0c\u5219\u5c01\u88c5\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function display(a, b) {\n  if (b && typeof b != 'boolean') throw new Error('\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5e94\u8be5\u662f\u5e03\u5c14\u503c');\n  var c = getStyle(e, 'display');\n  c != 'none' && (e._display = c);\n  e._display = e._display || '';\n  if (b || c == 'none') {\n    e.style.display = e._display;\n  } else {\n    e.style.display = 'none';\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u900f\u660e\u5ea6",children:"\u900f\u660e\u5ea6"}),"\n",(0,r.jsx)(n.p,{children:"\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u900f\u660e\u5ea6\uff0c\u4f46\u662f\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u652f\u6301\u7a0b\u5ea6\u4e0d\u4e00\u6837\u3002 IE \u6d4f\u89c8\u5668\u652f\u6301 filters \u6ee4\u955c\u96c6\uff0c\u800c DOM \u652f\u6301 style.opacity \u5c5e\u6027\uff0c\u540c\u65f6\uff0c\u5b83\u4eec\u8bbe\u7f6e\u503c\u7684\u8303\u56f4\u4e0d\u540c\uff0c IE \u7684\u503c\u5728 0 ~ 100 \uff0c\u5176\u4e2d\uff0c0 \u8868\u793a\u5b8c\u5168\u900f\u660e\uff0c\u800c 100 \u4e0d\u900f\u660e\u3002\u800c\u652f\u6301 style.opacity \u5c5e\u6027\u6d4f\u89c8\u5668\u8bbe\u7f6e 0 ~ 1 \u4e4b\u95f4\uff0c\u5176\u4e2d 0 \u8868\u793a\u5b8c\u5168\u900f\u660e\uff0c \u800c 1 \u8868\u793a\u5b8c\u5168\u4e0d\u900f\u660e\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function setOpacity(e, n) {\n  var n = parseFloat(n);\n  if ((n && n > 100) || !n) n = 100;\n  if (n && n < 0) n = 0;\n  if (e.filters) {\n    // \u517c\u5bb9 IE\n    e.style.filters = 'alpha(opacity=' + n + ')';\n  } else {\n    // \u517c\u5bb9 DOM\n    e.style.opacity = n / 100;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u83b7\u53d6\u900f\u660e\u5ea6\u65f6\u9700\u8981 \u7528 try \u6355\u83b7\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function getOpacity(e) {\n  var r;\n  if (!e.filters) {\n    if (e.style.opacity) return parseFloat(e.style.opacity) * 100;\n  }\n  try {\n    return e.filters.item('alpha').opacity;\n  } catch (o) {\n    return 100;\n  }\n}\n"})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}}}]);