"use strict";(globalThis.webpackChunknotebook=globalThis.webpackChunknotebook||[]).push([[47050],{54500(n,e,r){r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>t,toc:()=>i});const t=JSON.parse('{"id":"\u51fd\u6570/\u51fd\u6570\u5f0f","title":"\u51fd\u6570\u5f0f","description":"\u51fd\u6570\u5f0f\u7f16\u7a0b\u6709\u4e24\u79cd\u57fa\u672c\u6a21\u5f0f\uff1a compose (\u51fd\u6570\u5408\u6210) \u548c curry \uff08\u67ef\u91cc\u5316\uff09\u3002","source":"@site/js/\u51fd\u6570/\u51fd\u6570\u5f0f.mdx","sourceDirName":"\u51fd\u6570","slug":"/\u51fd\u6570/\u51fd\u6570\u5f0f","permalink":"/\u51fd\u6570/\u51fd\u6570\u5f0f","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u51fd\u6570\u5f0f"},"sidebar":"WabgeZrdzehcrQF7","previous":{"title":"\u533f\u540d\u51fd\u6570","permalink":"/\u51fd\u6570/\u533f\u540d\u51fd\u6570"},"next":{"title":"\u9ad8\u9636\u51fd\u6570","permalink":"/\u51fd\u6570/\u9ad8\u9636\u51fd\u6570"}}');var s=r(56730),c=r(25502);const l={title:"\u51fd\u6570\u5f0f"},o="\u51fd\u6570\u5f0f\u7f16\u7a0b",a={},i=[{value:"\u51fd\u6570\u5408\u6210",id:"\u51fd\u6570\u5408\u6210",level:2},{value:"\u51fd\u6570\u67ef\u91cc\u5316",id:"\u51fd\u6570\u67ef\u91cc\u5316",level:2},{value:"\u5b9e\u73b0",id:"\u5b9e\u73b0",level:2}];function u(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u51fd\u6570\u5f0f\u7f16\u7a0b",children:"\u51fd\u6570\u5f0f\u7f16\u7a0b"})}),"\n",(0,s.jsx)(e.p,{children:"\u51fd\u6570\u5f0f\u7f16\u7a0b\u6709\u4e24\u79cd\u57fa\u672c\u6a21\u5f0f\uff1a compose (\u51fd\u6570\u5408\u6210) \u548c curry \uff08\u67ef\u91cc\u5316\uff09\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u51fd\u6570\u5408\u6210",children:"\u51fd\u6570\u5408\u6210"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e2d\uff0c\u7ecf\u5e38\u89c1\u5230\u8fd9\u6837\u7684\u8868\u8868\u8fbe\u5f0f\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",metastring:"showLineNumbers",children:"a(b(c(x)));\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u8fd9\u79cd\u5305\u83dc\u5f0f\u7684\u591a\u5c42\u51fd\u6570\u8c03\u7528\uff0c\u4e0d\u662f\u5f88\u4f18\u96c5\u3002\u4e8e\u662f\uff0c\u9700\u8981\u51fd\u6570\u5408\u6210\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",metastring:"showLineNumbers",children:"const f = compose(a, b, c);\nf(x);\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u4f7f\u7528\u65f6\u9700\u6ce8\u610f\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"compose \u7684\u53c2\u6570\u5f0f\u51fd\u6570\uff0c\u8fd4\u56de\u7684\u4e5f\u662f\u4e00\u4e2a\u51fd\u6570"}),"\n",(0,s.jsx)(e.li,{children:"\u51fa\u4e86\u521d\u59cb\u51fd\u6570\uff0c\u5176\u5b83\u51fd\u6570\u63a5\u6536\u53c2\u6570\u662f\u4e0a\u4e00\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u6240\u4ee5\uff0c\u521d\u59cb\u51fd\u6570\u7684\u53c2\u6570\u662f\u591a\u5143\u5316\u7684\uff0c\u800c\u5176\u5b83\u51fd\u6570\u7684\u63a5\u53d7\u503c\u662f\u4e00\u5143\u7684"}),"\n",(0,s.jsx)(e.li,{children:"compose \u51fd\u6570\u53ef\u63a5\u53d7\u4efb\u4f55\u53c2\u6570\uff0c\u6240\u6709\u7684\u53c2\u6570\u90fd\u662f\u51fd\u6570\uff0c\u4e14\u6267\u884c\u7684\u65b9\u5411\u81ea\u53f3\u5411\u5de6\uff0c\u521d\u59cb\u51fd\u6570\u4e00\u5b9a\u653e\u5728\u53c2\u6570\u7684\u6700\u53f3\u4fa7"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",metastring:"showLineNumbers",children:"// \u51fd\u6570\u5408\u6210\uff0c\u4ece\u53f3\u5230\u5de6\u5408\u6210\u51fd\u6570\nconst compose = function () {\n  const _arguments = arguments; // \u7f13\u5b58\u5916\u5c42\u53c2\u6570\n  const length = _arguments.length; // \u7f13\u5b58\u957f\u5ea6\n  let index = length; // \u5b9a\u4e49\u6e38\u6807\u53d8\u91cf\n  // //\u68c0\u6d4b\u53c2\u6570\uff0c\u5982\u679c\u5b58\u5728\u975e\u51fd\u6570\u53c2\u6570\uff0c\u5219\u629b\u51fa\u5f02\u5e38\n  while (index--) {\n    if (typeof _arguments[index] !== 'function') {\n      throw new TypeError('\u53c2\u6570\u5fc5\u987b\u4e3a\u51fd\u6570!');\n    }\n  }\n  return function () {\n    let index = length - 1; // \u5b9a\u4f4d\u5230\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u4e0b\u6807;\n    // \u5982\u679c\u5b58\u57282\u4e2a\u53ca\u4ee5\u4e0a\u53c2\u6570\uff0c\u5219\u8c03\u7528\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u51fd\u6570\uff0c\u5e76\u4f20\u5165\u5185\u5c42\u53c2\u6570\uff1b // \u5426\u5219\u76f4\u63a5\u8fd4\u56de\u7b2c1\u4e2a\u53c2\u6570\u51fd\u6570\n    let result = length\n      ? _arguments[index].apply(this, arguments)\n      : arguments[0];\n    // \u8fed\u4ee3\u53c2\u6570\u51fd\u6570\n    while (index--) {\n      // \u628a\u53f3\u4fa7\u51fd\u6570\u7684\u6267\u884c\u7ed3\u679c\u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9\u5de6\u4fa7\u53c2\u6570\u51fd\u6570\uff0c\u5e76\u8c03\u7528\n      result = _arguments[index].call(this, result);\n    }\n    return result; // \u8fd4\u56de\u6700\u5de6\u4fa7\u53c2\u6570\u51fd\u6570\u7684\u6267\u884c\u7ed3\u679c\n  };\n}; // \u53cd\u5411\u51fd\u6570\u5408\u6210\uff0c\u5373\u4ece\u5de6\u5230\u53f3\u5408\u6210\u51fd\u6570\nconst composeLeft = function () {\n  return compose.apply(null, [].reverse.call(arguments));\n};\nconst add = function (x) {\n  return x + 5;\n}; // \u52a0\u6cd5\u8fd0\u7b97\nconst mul = function (x) {\n  return x * 5;\n};\n// \u4e58\u6cd5\u8fd0\u7b97\nconst sub = function (x) {\n  return x - 5;\n}; // \u51cf\u6cd5\u8fd0\u7b97\nconst div = function (x) {\n  return x / 5;\n}; // \u9664\u6cd5\u8fd0\u7b97 var\nfn = compose(add, mul, sub, div);\nconsole.log(fn(50));\nvar fn = compose(add, compose(mul, sub, div));\nconsole.log(fn(50));\nvar fn = compose(compose(add, mul), sub, div);\nconsole.log(fn(50));\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u51fd\u6570\u67ef\u91cc\u5316",children:"\u51fd\u6570\u67ef\u91cc\u5316"}),"\n",(0,s.jsx)(e.p,{children:"\u51fd\u6570\u5408\u6210\u662f\u628a\u591a\u4e2a\u5355\u4e00\u53c2\u6570\u7684\u51fd\u6570\u5408\u6210\u4e00\u4e2a\u591a\u53c2\u6570\u51fd\u6570\u7684\u8fd0\u7b97\u3002\u800c\u67ef\u91cc\u5316\uff0c\u5c31\u662f\u628a\u4e00\u4e2a\u591a\u53c2\u6570\u7684\u51fd\u6570\uff0c\u5408\u6210\u4e3a\u5355\u4e00\u53c2\u6570\u7684\u51fd\u6570\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u5b9e\u73b0",children:"\u5b9e\u73b0"}),"\n",(0,s.jsx)(e.p,{children:"\u5148\u7528\u4f20\u9012\u7ed9\u51fd\u6570\u7b2c\u4e00\u90e8\u5206\u53c2\u6570\u8c03\u7528\u5b83\uff0c\u8ba9\u5b83\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u53bb\u5904\u7406\u5269\u4e0b\u7684\u53c2\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u628a\u591a\u53c2\u6570\u7684\u51fd\u6570\u5206\u89e3\u6210\u591a\u90e8\u8fdb\u884c\u64cd\u4f5c\u7684\u5143\u7d20\uff0c\u4ee5\u5b9e\u73b0\u6bcf\u6b21\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u4ec5\u9700\u8981\u4f20\u9012\u4e00\u4e2a\u53c2\u6570\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",metastring:"showLineNumbers",children:"const add = function (x, y) {\n  return x + y;\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u67ef\u91cc\u5316\u4e4b\u540e\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",metastring:"showLineNumbers",children:"const add = function (x) {\n  return function (y) {\n    return x + y;\n  };\n};\nconsole.log(add(2)(6)); //\u8fde\u7eed\u8c03\u7528\nconst add1 = add(100);\nconsole.log(add1(1)); //\u5206\u6b65\u8c03\u7528\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",metastring:"showLineNumbers",children:"// \u67ef\u91cc\u5316\u51fd\u6570\n/**\n *\n */\nfunction curry(fn) {\n  const _argLen = fn.length; // \u8bb0\u5f55\u539f\u59cb\u51fd\u6570\u7684\u5f62\u53c2\u4e2a\u6570\n  let _args = [].slice.call(arguments, 1); // \u628a\u4f20\u5165\u7684\u7b2c2\u4e2a\u53ca\u4ee5\u540e\u53c2\u6570\u8f6c\u6362\u4e3a\u6570\u7ec4\n  // curry \u51fd\u6570\n  /**\n   *\n   */\n  function wrap() {\n    // \u628a\u5f53\u524d\u53c2\u6570\u8f6c\u6362\u4e3a\u6570\u7ec4\uff0c\u4e0e\u524d\u9762\u53c2\u6570\u8fdb\u884c\u5408\u5e76\n    _args = _args.concat([].slice.call(arguments));\n    // \u53c2\u6570\u5904\u7406\u51fd\u6570\n    /**\n     *\n     */\n    function act() {\n      // \u628a\u5f53\u524d\u53c2\u6570\u8f6c\u6362\u4e3a\u6570\u7ec4\uff0c\u4e0e\u524d\u9762\u53c2\u6570\u8fdb\u884c\u5408\u5e76\n      _args = _args.concat([].slice.call(arguments));\n      // \u5982\u679c\u4f20\u5165\u53c2\u6570\u603b\u548c\u5927\u4e8e\u7b49\u4e8e\u539f\u59cb\u53c2\u6570\u7684\u4e2a\u6570\uff0c\u89e6\u53d1\u6267\u884c\u6761\u4ef6\n      if (\n        (_argLen == 0 && arguments.length == 0) ||\n        (_argLen > 0 && _args.length >= _argLen)\n      ) {\n        // \u6267\u884c\u539f\u59cb\u51fd\u6570\uff0c\u5e76\u628a\u6bcf\u6b21\u4f20\u5165\u53c2\u6570\u4f20\u5165\u8fdb\u53bb\uff0c\u8fd4\u56de\u6267\u884c\u7ed3\u679c\uff0c\u505c\u6b62 curry\n        return fn.apply(null, _args);\n      }\n      return arguments.callee;\n    } // \u5982\u679c\u4f20\u5165\u53c2\u6570\u5927\u4e8e\u7b49\u4e8e\u539f\u59cb\u51fd\u6570\u7684\u53c2\u6570\u4e2a\u6570\uff0c\u5373\u89e6\u53d1\u4e86\u6267\u884c\u6761\u4ef6\n    if (\n      (_argLen == 0 && arguments.length == 0) ||\n      (_argLen > 0 && _args.length >= _argLen)\n    ) {\n      // \u6267\u884c\u539f\u59cb\u51fd\u6570\uff0c\u5e76\u628a\u6bcf\u6b21\u4f20\u5165\u53c2\u6570\u4f20\u5165\u8fdb\u53bb\uff0c\u8fd4\u56de\u6267\u884c\u7ed3\u679c\uff0c\u505c\u6b62 curry\n      return fn.apply(null, _args);\n    }\n    // \u5b9a\u4e49\u5904\u7406\u51fd\u6570\u7684\u5b57\u7b26\u4e32\u8868\u793a\u4e3a\u539f\u59cb\u51fd\u6570\u7684\u5b57\u7b26\u4e32\u8868\u793a\n    act.toString = function () {\n      return fn.toString();\n    };\n    return act; // \u8fd4\u56de\u5904\u7406\u51fd\u6570\n  }\n  return wrap; // \u8fd4\u56de curry \u51fd\u6570\n}\n"})})]})}function d(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},25502(n,e,r){r.d(e,{R:()=>l,x:()=>o});var t=r(10162);const s={},c=t.createContext(s);function l(n){const e=t.useContext(c);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),t.createElement(c.Provider,{value:e},n.children)}}}]);