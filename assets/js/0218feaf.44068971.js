"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[45124],{29087:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var a=t(96363);const r={},l=a.createContext(r);function i(e){const n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(l.Provider,{value:n},e.children)}},29997:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"\u4e8b\u4ef6 event/\u5c01\u88c5","title":"\u5c01\u88c5","description":"\u5e94\u7528\uff1a","source":"@site/js/\u4e8b\u4ef6 event/\u5c01\u88c5.mdx","sourceDirName":"\u4e8b\u4ef6 event","slug":"/\u4e8b\u4ef6 event/\u5c01\u88c5","permalink":"/js/\u4e8b\u4ef6 event/\u5c01\u88c5","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u5c01\u88c5"},"sidebar":"az2Kt0VR0KcelL2W","previous":{"title":"\u6848\u4f8b","permalink":"/js/\u4e8b\u4ef6 event/\u6848\u4f8b"},"next":{"title":"\u8868\u5355","permalink":"/js/\u8868\u5355/"}}');var r=t(47259),l=t(29087);const i={title:"\u5c01\u88c5"},o="\u55ef",s={},c=[];function v(e){const n={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u55ef",children:"\u55ef"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"var EventUtil = {\n  addHandler: function (element, type, handler) {\n    //\u6ce8\u518c\u4e8b\u4ef6\n    if (element.addEventListener) {\n      element.addEventListener(type, handler, false);\n    } else if (element.attachEvent) {\n      element.attachEvent('on' + type, handler);\n    } else {\n      element['on' + type] = handler;\n    }\n  },\n  getButton: function (event) {\n    //\u83b7\u53d6\u6309\u952e\u4fe1\u606f\n    if (document.implementation.hasFeature('MouseEvents', '2.0')) {\n      return event.button;\n    } else {\n      switch (event.button) {\n        case 0:\n        case 1:\n        case 3:\n        case 5:\n        case 7:\n          return 0;\n        case 2:\n        case 6:\n          return 2;\n        case 4:\n          return 1;\n      }\n    }\n  },\n  getCharCode: function (event) {\n    //\u83b7\u53d6\u952e\u76d8\u952e\u503c\u7f16\u7801\n    if (typeof event.charCode == 'number') {\n      return event.charCode;\n    } else {\n      return;\n      event.keyCode;\n    }\n  },\n  getClipboardText: function (event) {\n    //\u83b7\u53d6\u526a\u5207\u677f\u4fe1\u606f\n    var clipboardData = event.clipboardData || window.clipboardData;\n    return;\n    clipboardData.getData('text');\n  },\n  getEvent: function (event) {\n    //\u83b7\u53d6\u4e8b\u4ef6\u5bf9\u8c61\n    return event ? event : window.event;\n  },\n  getRelatedTarget: function (event) {\n    //\u83b7\u53d6\u76f8\u5173\u76ee\u6807\u5bf9\u8c61\n    if (event.relatedTarget) {\n      return event.relatedTarget;\n    } else if (event.toElement) {\n      return event.toElement;\n    } else if (event.fromElement) {\n      return event.fromElement;\n    } else {\n      return null;\n    }\n  },\n  getTarget: function (event) {\n    //\u83b7\u53d6\u5f53\u524d\u54cd\u5e94\u4e8b\u4ef6\n    return event.target || event.srcElement;\n  },\n  getWheelDelta: function (event) {\n    //\u83b7\u53d6\u6eda\u8f6e\u4fe1\u606f\n    if (event.wheelDelta) {\n      return client.engine.opera && client.engine.opera < 9.5\n        ? -event.wheelDelta\n        : event.wheelDelta;\n    } else {\n      return -event.detail * 40;\n    }\n  },\n  preventDefault: function (event) {\n    //\u963b\u6b62\u9ed8\u8ba4\u4e8b\u4ef6\n    if (event.preventDefault) {\n      event.preventDefault();\n    } else {\n      event.returnValue = false;\n    }\n  },\n  removeHandler: function (element, type, handler) {\n    //\u79fb\u9664\u5df2\u6ce8\u518c\u7684\u4e8b\u4ef6\n    if (element.removeEventListener) {\n      element.removeEventListener(type, handler, false);\n    } else if (element.detachEvent) {\n      element.detachEvent('on' + type, handler);\n    } else {\n      element['on' + type] = null;\n    }\n  },\n  setClipboardText: function (event, value) {\n    //\u8bbe\u7f6e\u526a\u5207\u677f\u6587\u672c\n    if (event.clipboardData) {\n      event.clipboardData.setData('text/plain', value);\n    } else if (window.clipboardData) {\n      window.clipboardData.setData('text', value);\n    }\n  },\n  stopPropagation: function (event) {\n    //\u963b\u6b62\u4e8b\u4ef6\u6d41\u4f20\u64ad\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    } else {\n      event.cancelBubble = true;\n    }\n  },\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5e94\u7528\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"var ul = document.getElementById('list');\nvar lis = ul.getElementsByTagName('li');\nfor (var i = 0; i < lis.length; i++) {\n  EventUtil.addHandler(lis[i], 'click', function (e) {\n    var e = EventUtil.getEvent(e);\n    var target = EventUtil.getTarget(e);\n    alert(e.target.innerHTML);\n  });\n}\nvar i = 4;\nvar btn = document.getElementById('btn');\nEventUtil.addHandler(btn, 'click', function (e) {\n  var li = document.createElement('li');\n  li.innerHTML = '\u5217\u8868\u9879\u76ee ' + i++;\n  ul.appendChild(li);\n});\n"})})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(v,{...e})}):v(e)}}}]);