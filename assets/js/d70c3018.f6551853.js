"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[37509],{29087:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>c});var r=t(96363);const a={},o=r.createContext(a);function s(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(o.Provider,{value:n},e.children)}},36600:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>f,frontMatter:()=>s,metadata:()=>r,toc:()=>i});const r=JSON.parse('{"id":"\u8868\u5355/\u6587\u672c\u6846\u503c","title":"\u6587\u672c\u6846\u503c","description":"\u4e0d\u7ba1\u5355\u884c\u6587\u672c\u8fd8\u662f\u591a\u884c\u6587\u672c\uff0c\u5728 JavaScript \u4e2d\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528 value \u5c5e\u6027\u8bfb\u53d6\u548c\u8bbe\u7f6e\u6587\u672c\u6846\u7684\u503c\u3002","source":"@site/js/\u8868\u5355/\u6587\u672c\u6846\u503c.mdx","sourceDirName":"\u8868\u5355","slug":"/\u8868\u5355/\u6587\u672c\u6846\u503c","permalink":"/js/\u8868\u5355/\u6587\u672c\u6846\u503c","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u6587\u672c\u6846\u503c"},"sidebar":"az2Kt0VR0KcelL2W","previous":{"title":"\u5b57\u6bb5\u5c5e\u6027","permalink":"/js/\u8868\u5355/\u5b57\u6bb5\u5c5e\u6027"},"next":{"title":"\u5207\u6362\u7126\u70b9","permalink":"/js/\u8868\u5355/\u5207\u6362\u7126\u70b9"}}');var a=t(47259),o=t(29087);const s={title:"\u6587\u672c\u6846\u503c"},c="\u8bbf\u95ee\u6587\u672c\u6846\u7684\u503c",l={},i=[{value:"\u6587\u672c\u6846\u8fc7\u6ee4",id:"\u6587\u672c\u6846\u8fc7\u6ee4",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u8bbf\u95ee\u6587\u672c\u6846\u7684\u503c",children:"\u8bbf\u95ee\u6587\u672c\u6846\u7684\u503c"})}),"\n",(0,a.jsx)(n.p,{children:"\u4e0d\u7ba1\u5355\u884c\u6587\u672c\u8fd8\u662f\u591a\u884c\u6587\u672c\uff0c\u5728 JavaScript \u4e2d\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528 value \u5c5e\u6027\u8bfb\u53d6\u548c\u8bbe\u7f6e\u6587\u672c\u6846\u7684\u503c\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<form action="javascript:alert(\'\u5df2\u6210\u529f\u63d0\u4ea4 \')" id="form">\n  <input type="text" size="25" value="en" />\n  <textarea name="" cols="30" rows="10">en</textarea>\n</form>\n<script>\n  var form = document.querySelector(\'form\');\n  var field1 = form.elements[0];\n  var field2 = form.elements[1];\n  alert(field1.value);\n  alert(field2.value);\n<\/script>\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528 select() \u53ef\u4ee5\u9009\u62e9\u6587\u672c\u6846\u7684\u503c\u3002\u8be5\u65b9\u6cd5\u4e0d\u63a5\u53d7\u53c2\u6570\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<form action="javascript:alert(\'\u5df2\u6210\u529f\u63d0\u4ea4 \')" id="form">\n  <input type="text" size="25" value="en" />\n  <textarea name="" cols="30" rows="10">en</textarea>\n</form>\n<script>\n  var form = document.querySelector(\'form\');\n  var field1 = form.elements[0];\n  var field2 = form.elements[1];\n  field1.onfocus = function () {\n    this.select();\n  };\n  field2.onfocus = function () {\n    this.select();\n  };\n<\/script>\n'})}),"\n",(0,a.jsx)(n.p,{children:"HTML5 \u65b0\u589e\u4e24\u4e2a\u5c5e\u6027\uff1a selectionStar \u3001 selectionEnd \uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u4fdd\u5b58\u6587\u672c\u9009\u53d6\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u504f\u79fb\u91cf\u3002 IE 8 \u4e4b\u524d\u7684\u7248\u672c\u4e0d\u652f\u6301\u8be5\u5c5e\u6027\uff0c\u4f46\u662f\u5728 document.selection \u5bf9\u8c61\uff0c\u5176\u4e2d\u4fdd\u5b58\u7740\u7528\u6237\u5728\u6574\u4e2a\u6587\u6863\u5185\u9009\u62e9\u7684\u4fe1\u606f\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"function getSelectedText(textbox) {\n  if (typeof textbox.selectionStar == 'number') {\n    return;\n    textbox.value.substring(textbox.selectionStar, textbox.selectionEnd);\n  } else if (document.selection) {\n    return document.selection.createRange().text;\n  }\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<form action="javascript:alert(\'\u5df2\u6210\u529f\u63d0\u4ea4 \')" id="form">\n  <textarea name="" cols="30" rows="10">en</textarea>\n</form>\n<script>\n  var form = document.querySelector(\'form\');\n  var field1 = form.elements[0];\n  field1.onfocus = function () {\n    alert(getSelectedText(this));\n  };\n<\/script>\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u5982\u679c\u9009\u62e9\u90e8\u5206\u6587\u672c\uff0c\u5219\u4f7f\u7528 HTML 5 \u7684 setSelectionRange() \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u8bbe\u7f6e\u9009\u62e9\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u548c\u5de6\u540e\u4e00\u4e2a\u5b57\u7b26\u7684\u7d22\u5f15\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"function selectText(textbox, startIndex, stopIndex) {\n  if (textbox.setSelectionRange) {\n    textbox.setSelectionRange(startIndex, stopIndex);\n  } else if (textbox.createTextRange()) {\n    var range = textbox.createTextRange();\n    range.collapse(true);\n    range.moveStart('character', startIndex);\n    range.moveEnd('character', stopIndex - startIndex);\n    range.select();\n  }\n  textbox.focus();\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u6587\u672c\u6846\u8fc7\u6ee4",children:"\u6587\u672c\u6846\u8fc7\u6ee4"}),"\n",(0,a.jsx)(n.p,{children:"\u901a\u8fc7\u5411 keypress \u6dfb\u52a0\u4e8b\u4ef6\u963b\u6b62\u9ed8\u8ba4\u4e8b\u4ef6\u53d1\u751f\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<form action="javascript:alert(\'\u5df2\u6210\u529f\u63d0\u4ea4 \')" id="form">\n  <input type="text" size="25" value="en" />\n  <textarea name="" cols="30" rows="10">en</textarea>\n</form>\n<script>\n  var form = document.querySelector(\'form\');\n  var field1 = form.elements[0];\n  var field2 = form.elements[1];\n  field1.onkeypress = function (event) {\n    var e = event || window;\n    if (e.preventDefault) {\n      event.preventDefault();\n    } else {\n      event.returnValue = false;\n    }\n  };\n<\/script>\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u53ea\u5141\u8bb8\u8f93\u5165\u6570\u5b57"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"var form = document.querySelector('form');\nvar field1 = form.elements[0];\nvar field2 = form.elements[1];\nfield1.onkeypress = function (event) {\n  var e = event || window;\n  if (typeof event.charCode == 'number') {\n    var charCode = event.charCode;\n  } else {\n    var charCode = event.keyCode;\n  }\n  if (\n    !/\\d/.test(String.formCharCode(charCode)) &&\n    charCode > 9 &&\n    !event.ctrlKey\n  ) {\n    if (e.preventDefault) {\n      event.preventDefault();\n    } else {\n      event.returnValue = false;\n    }\n  }\n};\n"})})]})}function f(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);