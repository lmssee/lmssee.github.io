"use strict";(globalThis.webpackChunknotebook=globalThis.webpackChunknotebook||[]).push([[56950],{60651(e,n,t){t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"storage/\u6848","title":"\u6848","description":"Web \u7559\u8a00\u672c","source":"@site/html/storage/\u6848.mdx","sourceDirName":"storage","slug":"/storage/\u6848","permalink":"/html/storage/\u6848","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u6848"},"sidebar":"RRhFQ58Ul1J5KCbn","previous":{"title":"\u5229\u7528","permalink":"/html/storage/\u5229\u7528"},"next":{"title":"webSQl","permalink":"/html/webSQl/"}}');var a=t(56730),o=t(25502);const r={title:"\u6848"},i="\u7528\u6237\u767b\u5f55\u4fe1\u606f\u4fdd\u5b58\u548c\u8bfb\u53d6",s={},c=[{value:"Web \u7559\u8a00\u672c",id:"web-\u7559\u8a00\u672c",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u7528\u6237\u767b\u5f55\u4fe1\u606f\u4fdd\u5b58\u548c\u8bfb\u53d6",children:"\u7528\u6237\u767b\u5f55\u4fe1\u606f\u4fdd\u5b58\u548c\u8bfb\u53d6"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:'<head>\n  <style>\n    ul {\n      list-style: none;\n    }\n  </style>\n  <script>\n    function mi(n, a = 0) {\n      if (document.querySelector(n) != null) {\n        if (a > 0) {\n          return document.querySelectorAll(n);\n        }\n        return;\n        document.querySelector(n);\n      } else {\n        throw new Error(\'\u5b8c\u728a\u5b50\u5566\uff01\');\n      }\n    }\n    function page() {\n      let nam = localStorage.getItem(\'keyName\');\n      let pas = localStorage.getItem(\'keyPass\');\n      if (nam) mi(\'#textName\').value = nam;\n      if (pas) mi(\'#textPass\').value = pas;\n    }\n    function btn_click() {\n      let nam = mi(\'#textName\').value;\n      let pas = mi(\'#textPass\').value;\n      localStorage.setItem(\'keyName\', nam);\n      if (mi(\'chkSave\').checked) localStorage.setItem(\'keyPass\', pas);\n      else localStorage.removeItem(\'keyPass\');\n      mi(\'#spnStatus\').className = \'status\';\n      mi(\'#spnStatus\').innerHTML = \'\u767b\u9646\u6210\u529f\';\n    }\n    window.onload = page();\n  <\/script>\n</head>\n<body>\n  <form action="#" id="formLogin">\n    <fieldset>\n      <legend>\u7528\u6237\u767b\u5f55</legend>\n      <ul>\n        <li>\u7528\u6237\u540d: <input type="text" id="textName" class="input_text" /></li>\n        <li>\n          \u5bc6 ** \u7801: <input type="password" id="textPass" class="input_text" />\n        </li>\n        <li>\n          <input\n            type="checkbox"\n            id="chkSave"\n            title="\u4e0d\u5efa\u8bae\u5728\u7f51\u5427\u7b49\u516c\u5171\u4e0a\u7f51\u8bbe\u5907\u4fdd\u5b58\u5bc6\u7801"\n          />\u662f\u5426\u4fdd\u5b58\u5bc6\u7801\n        </li>\n        <li>\n          <input\n            type="button"\n            onclick="btn_click()"\n            name="btn"\n            class="input_button"\n            value="\u767b\u5f55"\n          />\n          <input type="reset" value="\u91cd\u7f6e" name="rst" class="input_button" />\n        </li>\n        <li class="li_title"><span id="spnStatus"></span></li>\n      </ul>\n    </fieldset>\n  </form>\n</body>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"web-\u7559\u8a00\u672c",children:"Web \u7559\u8a00\u672c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:"<head>\n  <script>\n    function mi(n, a = 0) {\n      if (document.querySelector(n) != null) {\n        if (a > 0) {\n          return;\n          document.querySelectorAll(n);\n        }\n        return document.querySelector(n);\n      } else {\n        console.log('mi \u51fd\u6570\u53c2\u6570\u9519\u8bef\uff0c\u8bf7\u786e\u5b9a\u8f93\u5165\u53c2\u6570\u6b63\u786e');\n      }\n    }\n\n    function saveStorage(id) {\n      let data = mi('#' + id).value;\n      let t = new Date().getTime();\n      localStorage.setItem(t, data);\n      console.log('\u6570\u636e\u5df2\u4fdd\u5b58');\n      alert('\u6570\u636e\u5df2\u4fdd\u5b58');\n      loadStorage('msg');\n    }\n    function loadStorage(id) {\n      var r = '<table border=\"1\">';\n      for (let i = 0, len = localStorage.length; i < len; i++) {\n        let key = localStorage.key(i);\n        let v = localStorage.getItem(key);\n        let d = new Date();\n        d.setTime(key);\n        let ds = d.toGMTString();\n        r += '<tr><td>' + v + '</td><td>' + ds + '</td></tr>';\n      }\n      r += '</table>';\n      mi('#' + id).innerHTML = r;\n    }\n    function clearStorage(id) {\n      localStorage.clear();\n      console.log('\u6570\u636e\u6e05\u7406\u6210\u529f');\n      alert('\u6570\u636e\u6e05\u7406\u6210\u529f');\n      loadStorage(id);\n    }\n  <\/script>\n</head>\n<body>\n  <h1>Web \u7559\u8a00\u672c</h1>\n  <textarea id=\"memo\" cols=\"60\" rows=\"10\"></textarea>\n  <input type=\"button\" value=\"\u6dfb\u52a0\" onclick=\"saveStorage('memo')\" />\n  <input type=\"button\" value=\"\u5168\u90e8\u6e05\u7406\" onclick=\"clearStorage('msg')\" />\n  <div id=\"msg\"></div>\n</body>\n"})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},25502(e,n,t){t.d(n,{R:()=>r,x:()=>i});var l=t(10162);const a={},o=l.createContext(a);function r(e){const n=l.useContext(o);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),l.createElement(o.Provider,{value:n},e.children)}}}]);