"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[45905],{1380:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"webpack/\u751f\u4ea7\u73af\u5883","title":"\u751f\u4ea7\u73af\u5883","description":"\u751f\u4ea7\u73af\u5883\u7684\u914d\u7f6e\u4e0e\u5f00\u53d1\u73af\u5883\u6709\u6240\u4e0d\u540c\uff0c\u6bd4\u5982\u8981\u8bbe\u7f6e mode \u3001\u73af\u5883\u53d8\u91cf\uff0c\u4e3a\u6587\u4ef6\u540d\u6dfb\u52a0 chunk hash \u4f5c\u4e3a\u7248\u672c\u53f7\u7b49\u3002","source":"@site/NodeJs/webpack/\u751f\u4ea7\u73af\u5883.mdx","sourceDirName":"webpack","slug":"/webpack/\u751f\u4ea7\u73af\u5883","permalink":"/NodeJs/webpack/\u751f\u4ea7\u73af\u5883","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u751f\u4ea7\u73af\u5883"},"sidebar":"20RlDqN0gcLo5olY","previous":{"title":"\u4ee3\u7801\u7247\u6bb5","permalink":"/NodeJs/webpack/\u4ee3\u7801\u7247\u6bb5"},"next":{"title":"\u4f18\u5316","permalink":"/NodeJs/webpack/\u4f18\u5316"}}');var i=s(47259),l=s(29087);const r={title:"\u751f\u4ea7\u73af\u5883"},o="\u914d\u7f6e\u5c01\u88c5",t={},a=[{value:"\u76f8\u540c\u53d8\u91cf\u4e0d\u540c\u53c2\u6570",id:"\u76f8\u540c\u53d8\u91cf\u4e0d\u540c\u53c2\u6570",level:2},{value:"\u72ec\u7acb\u914d\u7f6e\u6587\u4ef6",id:"\u72ec\u7acb\u914d\u7f6e\u6587\u4ef6",level:2},{value:"\u5f00\u542f production \u6a21\u5f0f",id:"\u5f00\u542f-production-\u6a21\u5f0f",level:2},{value:"source map",id:"source-map",level:2},{value:"\u8d44\u6e90\u538b\u7f29",id:"\u8d44\u6e90\u538b\u7f29",level:2},{value:"js \u538b\u7f29",id:"js-\u538b\u7f29",level:2},{value:"css \u538b\u7f29",id:"css-\u538b\u7f29",level:2},{value:"\u7f13\u5b58",id:"\u7f13\u5b58",level:2},{value:"\u8d44\u6e90 hash",id:"\u8d44\u6e90-hash",level:2},{value:"\u52a8\u6001 HTML",id:"\u52a8\u6001-html",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u914d\u7f6e\u5c01\u88c5",children:"\u914d\u7f6e\u5c01\u88c5"})}),"\n",(0,i.jsx)(n.p,{children:"\u751f\u4ea7\u73af\u5883\u7684\u914d\u7f6e\u4e0e\u5f00\u53d1\u73af\u5883\u6709\u6240\u4e0d\u540c\uff0c\u6bd4\u5982\u8981\u8bbe\u7f6e mode \u3001\u73af\u5883\u53d8\u91cf\uff0c\u4e3a\u6587\u4ef6\u540d\u6dfb\u52a0 chunk hash \u4f5c\u4e3a\u7248\u672c\u53f7\u7b49\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u76f8\u540c\u53d8\u91cf\u4e0d\u540c\u53c2\u6570",children:"\u76f8\u540c\u53d8\u91cf\u4e0d\u540c\u53c2\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"script" \uff1a{\n  "dev" :"ENV=development webpack-dev-server",\n  "build": "ENV=production webpack"\n  },\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const EVN = process.evn.EVN;\nmodule.exports = {\n  output: {\n    filename: `bundle${EVN === 'production' ? '@[chunkhash]' : ''}.js`,\n  },\n  mode: EVN,\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u72ec\u7acb\u914d\u7f6e\u6587\u4ef6",children:"\u72ec\u7acb\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "script": {\n    "dev": "webpack-dev-serve --config=webpack.development.config.js",\n    "build": "webpack --config=webpack.production.config.js"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u5f00\u542f-production-\u6a21\u5f0f",children:"\u5f00\u542f production \u6a21\u5f0f"}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6e mode \u4e3a production \u3002"}),"\n",(0,i.jsx)(n.h2,{id:"source-map",children:"source map"}),"\n",(0,i.jsx)(n.p,{children:"source map \u6307\u7684\u662f\u5c06\u7f16\u8bd1\u3001\u6253\u5305\u3001\u538b\u7f29\u540e\u7684\u4ee3\u7801\u6620\u5c04\u56de\u6e90\u4ee3\u7801\u7684\u8fc7\u7a0b\u3002\u7ecf\u8fc7 Webpack \u6253\u5305\u538b\u7f29\u540e\u7684\u4ee3\u7801\u57fa\u672c\u4e0a\u5df2\u7ecf\u4e0d\u5177\u5907\u53ef\u8bfb\u6027\uff0c\u6b64\u65f6\u82e5\u4ee3\u7801\u629b\u51fa\u4e86\u4e00\u4e2a\u9519\u8bef\uff0c\u8981\u60f3\u56de\u6eaf\u5b83\u7684\u8c03\u7528\u6808\u662f\u975e\u5e38\u56f0\u96be\u7684\u3002\u800c\u6709\u4e86 source\nmap \uff0c\u518d\u52a0\u4e0a\u6d4f\u89c8\u5668\u8c03\u8bd5\u5de5\u5177\uff08 dev tools \uff09\uff0c\u8981\u505a\u5230\u8fd9\u4e00\u70b9\u5c31\u975e\u5e38\u5bb9\u6613\u4e86\u3002\u540c\u65f6\u5b83\u5bf9\u4e8e\u7ebf\u4e0a\u95ee\u9898\u7684\u8ffd\u67e5\u4e5f\u6709\u4e00\u5b9a\u5e2e\u52a9\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5f00\u542f source map \uff0c\u4ec5\u9700\u5728 webpack.config.js \u4e2d\u6dfb\u52a0 devtool \uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "devtool": "source-map"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5bf9\u4e8e CSS \u3001 SCSS \u3001 Less \u6765\u8bf4\uff0c\u5219\u9700\u8981\u6dfb\u52a0\u989d\u5916\u7684 source map \u914d\u7f6e\u9879\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5f00\u542f source map \u53ef\u80fd\u4e0d\u592a\u5b89\u5168\uff0c\u6240\u4ee5\u5c31\u9700\u8981\u5355\u72ec\u7684\u8bbe\u7f6e\u4e0d\u8ba9\u7528\u6237\u770b\u5230"}),"\n",(0,i.jsx)(n.h2,{id:"\u8d44\u6e90\u538b\u7f29",children:"\u8d44\u6e90\u538b\u7f29"}),"\n",(0,i.jsx)(n.h2,{id:"js-\u538b\u7f29",children:"js \u538b\u7f29"}),"\n",(0,i.jsx)(n.p,{children:"\u5f00\u542f\u914d\u7f6e\u9879 mode \uff1a production \u540e\u65e0\u9700\u914d\u7f6e\u8d44\u6e90\u538b\u7f29\uff0c\u800c\u5355\u72ec\u914d\u7f6e\u5219\u9700\u8981\u4f7f\u7528 optinization \u914d\u7f6e\u9879\uff0c\u8bbe\u7f6e minimize \u503c\u4e3a true"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "optimization": {\n    "minimize": true\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"css-\u538b\u7f29",children:"css \u538b\u7f29"}),"\n",(0,i.jsx)(n.p,{children:"\u538b\u7f29 CSS \u6587\u4ef6\u7684\u524d\u63d0\u662f\u4f7f\u7528 extract-text-webpack-plugin \u6216 mini-css-extract-plugin \u5c06\u6837\u5f0f\u63d0\u53d6\u51fa\u6765\uff0c\u63a5\u7740\u4f7f\u7528\noptimize-css-assets-webpack-plugin \u6765\u8fdb\u884c\u538b\u7f29\uff0c\u8fd9\u4e2a\u63d2\u4ef6\u672c\u8d28\u4e0a\u4f7f\u7528\u7684\u662f\u538b\u7f29\u5668 cssnano \u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e4b\u524d\u7684 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/mini-css-extract-plugin",children:"mini-css-extract-plugin"})," \u63d2\u4ef6\u6709\u914d\u5957\u63d2\u4ef6\u8bf4\u660e\uff0c\u5c31\u662f mini-css-extract-plugin"]}),"\n",(0,i.jsx)(n.h2,{id:"\u7f13\u5b58",children:"\u7f13\u5b58"}),"\n",(0,i.jsx)(n.p,{children:"\u7f13\u5b58\u662f\u6307\u91cd\u590d\u5229\u7528\u6d4f\u89c8\u5668\u5df2\u7ecf\u83b7\u53d6\u8fc7\u7684\u8d44\u6e90\u3002\u5408\u7406\u5730\u4f7f\u7528\u7f13\u5b58\u662f\u63d0\u5347\u5ba2\u6237\u7aef\u6027\u80fd\u7684\u4e00\u4e2a\u5173\u952e\u56e0\u7d20\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u8d44\u6e90-hash",children:"\u8d44\u6e90 hash"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e00\u4e2a\u5e38\u7528\u7684\u65b9\u6cd5\u662f\u5728\u6bcf\u6b21\u6253\u5305\u7684\u8fc7\u7a0b\u4e2d\u5bf9\u8d44\u6e90\u7684\u5185\u5bb9\u8ba1\u7b97\u4e00\u6b21 hash \uff0c\u5e76\u4f5c\u4e3a\u7248\u672c\u53f7\u5b58\u653e\u5728\u6587\u4ef6\u540d\u4e2d\uff0c\u5982  <",(0,i.jsx)(n.a,{href:"mailto:bundle@2e0a691e769edb228e2.js",children:"bundle@2e0a691e769edb228e2.js"}),"> \u3002 bundle \u662f\u6587\u4ef6\u672c\u8eab\u7684\u540d\u5b57\uff0c@\u540e\u9762\u8ddf\u7684\u5219\u662f\u6587\u4ef6\u5185\u5bb9\nhash \u503c\uff0c\u6bcf\u5f53\u4ee3\u7801\u53d1\u751f\u53d8\u5316\u65f6\u76f8\u5e94\u7684 hash \u4e5f\u4f1a\u53d8\u5316\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u52a8\u6001-html",children:"\u52a8\u6001 HTML"}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528 html-webpack-plugin"})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},29087:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var c=s(96363);const i={},l=c.createContext(i);function r(e){const n=c.useContext(l);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),c.createElement(l.Provider,{value:n},e.children)}}}]);