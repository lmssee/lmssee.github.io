"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[94577],{20441:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>r,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"\u7248\u672c","title":"\u7248\u672c","description":"\u88f8\uff08 bare \uff09\u7248\u672c\u5e93\u53ef\u4ee5\u4f7f\u7528 git clone --bare \u521b\u5efa\u3002\u8fd9\u4e2a\u7528\u4e8e\u53d1\u5e03\u7248\u672c\u548c\u4fdd\u5b58\u7248\u672c\u7528\u3002","source":"@site/git/\u7248\u672c.mdx","sourceDirName":".","slug":"/\u7248\u672c","permalink":"/git/\u7248\u672c","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u7248\u672c"},"sidebar":"liAinnlKByLhtmrU","previous":{"title":"\u5386\u53f2","permalink":"/git/\u5386\u53f2"},"next":{"title":"\u7ba1\u9053","permalink":"/git/\u7ba1\u9053"}}');var l=n(47259),s=n(29087);const r={title:"\u7248\u672c"},d="\u88f8\u7248\u672c\u5e93",c={},h=[{value:"\u5f53\u524d\u7248\u672c",id:"\u5f53\u524d\u7248\u672c",level:2},{value:"\u56de\u9000",id:"\u56de\u9000",level:2},{value:"git reset --soft",id:"git-reset---soft",level:2},{value:"git reset --mixed",id:"git-reset---mixed",level:2},{value:"git reset --hard",id:"git-reset---hard",level:2},{value:"\u5f3a\u63a8",id:"\u5f3a\u63a8",level:2},{value:"\u53cd\u56de\u9000",id:"\u53cd\u56de\u9000",level:2}];function x(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"\u88f8\u7248\u672c\u5e93",children:"\u88f8\u7248\u672c\u5e93"})}),"\n",(0,l.jsx)(t.p,{children:"\u88f8\uff08 bare \uff09\u7248\u672c\u5e93\u53ef\u4ee5\u4f7f\u7528 git clone --bare \u521b\u5efa\u3002\u8fd9\u4e2a\u7528\u4e8e\u53d1\u5e03\u7248\u672c\u548c\u4fdd\u5b58\u7248\u672c\u7528\u3002"}),"\n",(0,l.jsx)(t.h2,{id:"\u5f53\u524d\u7248\u672c",children:"\u5f53\u524d\u7248\u672c"}),"\n",(0,l.jsx)(t.p,{children:"\u7248\u672c\u8ddf\u8fdb\u662f git \u7684\u4f18\u52bf\u3002\u5728 git \u4e2d\uff0c\u5f53\u524d\u7248\u672c\u7528 HEAD \u6807\u8bc6\uff0c\u4e0a\u4e00\u4e2a\u7248\u672c\u7528 HEAD^ \u6807\u8bc6\uff0c\u4e0a\u4e0a\u4e2a\u7248\u672c\u5c31\u662f HEAD^^ \uff0c n \u591a\u7248\u672c\u5c31\u662f HEAD~n \u3002"}),"\n",(0,l.jsx)(t.h2,{id:"\u56de\u9000",children:"\u56de\u9000"}),"\n",(0,l.jsx)(t.p,{children:"\u4f7f\u7528 git reset \u547d\u4ee4\uff0c\u53ef\u4ee5\u64a4\u9500\u4e4b\u524d\u7684\u4e00\u4e9b\u64cd\u4f5c\uff08 add \u3001 commit...\uff09\uff1a"}),"\n",(0,l.jsx)(t.p,{children:"git reset \u547d\u4ee4\u4e3b\u8981\u6709\u4e09\u4e2a\u9009\u9879\uff1a --soft \u3001 --mixed \u3001 --hard \u3002"}),"\n",(0,l.jsx)(t.h2,{id:"git-reset---soft",children:"git reset --soft"}),"\n",(0,l.jsx)(t.p,{children:"--soft \u4f1a\u5c06 HEAD \u5f15\u7528\u6307\u5411\u7ed9\u5b9a\u7684\u63d0\u4ea4\u3002\u7d22\u5f15\u548c\u5de5\u4f5c\u76ee\u5f55\u4fdd\u6301\u4e0d\u53d8\uff0c\u8fd9\u4e2a\u7248\u672c\u7684\u547d\u4ee4\u662f\u201c\u6700\u5c0f\u201d\u7684\u5f71\u54cd\uff0c\u53ea\u6539\u53d8\u4e00\u4e2a\u7b26\u53f7\u5f15\u7528\u4f7f\u5176\u6307\u5411\u4e00\u4e2a\u65b0\u63d0\u4ea4\u3002"}),"\n",(0,l.jsx)(t.h2,{id:"git-reset---mixed",children:"git reset --mixed"}),"\n",(0,l.jsx)(t.p,{children:"--mixed \u4f1a\u5c06 HEAD \u6307\u5411\u7ed9\u5b9a\u7684\u7d22\u5f15\u3002\u7d22\u5f15\u5185\u5bb9\u4e5f\u8ddf\u7740\u6539\u53d8\u4ee5\u9002\u5e94\u63d0\u4ea4\u7684\u6811\u7ed3\u6784\uff0c\u4f46\u662f\u5de5\u4f5c\u76ee\u5f55\u7684\u5185\u5bb9\u4fdd\u6301\u4e0d\u53d8\u3002\u8fd9\u4e2a\u7248\u672c\u7684\u547d\u4ee4\u5c06\u7d22\u5f15\u53d8\u6210\u521a\u521a\u6682\u5b58\u63d0\u4ea4\u5168\u90e8\u53d8\u5316\u65f6\u7684\u72b6\u6001\uff0c\u4ed6\u4f1a\u663e\u793a\u76ee\u5f55\u4e2d\u4ec0\u4e48\u4fee\u6539\u3002"}),"\n",(0,l.jsx)(t.p,{children:"--mixed \u4e3a\u9ed8\u8ba4\u7684 git reset \u6a21\u5f0f"}),"\n",(0,l.jsx)(t.h2,{id:"git-reset---hard",children:"git reset --hard"}),"\n",(0,l.jsx)(t.p,{children:"\u8be5\u547d\u4ee4\u5c06\u76f4\u63a5\u5c06 HEAD \u5f15\u7528\u6307\u5411\u7ed9\u5b9a\u7684\u63d0\u4ea4\u3002\u7d22\u5f15\u7684\u5185\u5bb9\u4e5f\u4f1a\u6539\u53d8\u4ee5\u9002\u5e94\u7ed9\u5b9a\u7684\u6811\u7ed3\u6784\u3002\u6b64\u5916\uff0c\u5de5\u4f5c\u76ee\u5f55\u7684\u5185\u5bb9\u4e5f\u4f1a\u968f\u4e4b\u6539\u53d8\u4ee5\u9002\u5e94\u63d0\u4ea4\u8868\u793a\u6811\u7684\u72b6\u6001\u3002"}),"\n",(0,l.jsx)(t.p,{children:"\u5f53\u6539\u53d8\u5de5\u4f5c\u76ee\u5f55\u65f6\uff0c\u6574\u4e2a\u76ee\u5f55\u4f1a\u6539\u53d8\u6210\u7ed9\u5b9a\u63d0\u4ea4\u7684\u6837\u5b50\u3002\u4fee\u6539\u4f1a\u4e22\u5931\uff0c\u65b0\u6587\u4ef6\u4f1a\u4e22\u5931\uff0c\u5220\u9664\u7684\u6587\u4ef6\u4f1a\u6062\u590d\u3002"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"\u9009\u9879"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"HEAD"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"\u7d22\u5f15"}),(0,l.jsx)(t.th,{children:"\u5de5\u4f5c\u76ee\u5f55"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"--soft"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"\u662f"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"\u5426"}),(0,l.jsx)(t.td,{children:"\u5426"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"--mixed"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"\u662f"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"\u662f"}),(0,l.jsx)(t.td,{children:"\u5426"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"--hard"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"\u662f"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"\u662f"}),(0,l.jsx)(t.td,{children:"\u662f"})]})]})]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-sh",children:"git reset # \u53ef\u80fd\u662f\u4f1a\u9000\u4e0a\u4e00\u4e2a add\n  git reset --soft HEAD^  # \u56de\u5230\u4e0a\u4e00\u63d0\u4ea4\n  git reset --hard HEAD^  # \u56de\u5230\u4e0a\u4e00\u7248\u672c\n  git reset --hard ORIG_HEAD  # \u64a4\u9500 git pull \uff0c\u4f46\u662f\u4f1a\u6e05\u7a7a\u5de5\u4f5c\u533a\n  git reset --merge ORIG_HEAD  # \u64a4\u9500 git pull \uff0c\u4e0d\u4f1a\u6e05\u7a7a\u5de5\u4f5c\u533a\n  git reset -- {\u6587\u4ef6\u540d}  # \u79fb\u9664\u7d22\u5f15\u4e2d\u7684\u67d0\u6587\u4ef6\n"})}),"\n",(0,l.jsx)(t.h2,{id:"\u5f3a\u63a8",children:"\u5f3a\u63a8"}),"\n",(0,l.jsx)(t.p,{children:"\u56de\u9000\u53ea\u662f\u672c\u5730\u7684\u56de\u9000\uff0c\u82e5\u60f3\u8fdc\u7aef\u4e5f\u8fdb\u884c\u56de\u9000\uff0c\u53ea\u80fd\u5f3a\u5236\u63a8\u9001\u5230\u8fdc\u7aef\uff1a"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-sh",children:"git push -f origin master:master\n"})}),"\n",(0,l.jsx)(t.h2,{id:"\u53cd\u56de\u9000",children:"\u53cd\u56de\u9000"}),"\n",(0,l.jsx)(t.p,{children:"\u53ef\u4ee5\u901a\u8fc7 commit-id \u627e\u56de\u3002\u4f7f\u7528 git reflog \u547d\u4ee4\u3002"})]})}function a(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(x,{...e})}):x(e)}},29087:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>d});var i=n(96363);const l={},s=i.createContext(l);function r(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);