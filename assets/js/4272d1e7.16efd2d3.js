"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[78659],{29087:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var r=n(96363);const o={},s=r.createContext(o);function a(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:t},e.children)}},85148:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"\u57fa\u7840/\u9759\u6001\u8d44\u6e90","title":"\u9759\u6001\u8d44\u6e90","description":"\u7528 Node \u63d0\u4f9b\u9759\u6001\u8d44\u6e90\u53ea\u9002\u7528\u4e8e\u521d\u671f\u7684\u5c0f\u578b\u9879\u76ee\uff0c\u5bf9\u4e8e\u6bd4\u8f83\u5927\u7684\u9879\u76ee\uff0c\u4f60\u5e94\u8be5\u4f1a\u60f3\u7528 Nginx \u6216 CDN \u4e4b\u7c7b\u7684\u4ee3\u7406\u670d\u52a1\u5668\u6765\u63d0\u4f9b\u9759\u6001\u8d44\u6e90\u3002","source":"@site/NodeJs/\u57fa\u7840/\u9759\u6001\u8d44\u6e90.mdx","sourceDirName":"\u57fa\u7840","slug":"/\u57fa\u7840/\u9759\u6001\u8d44\u6e90","permalink":"/NodeJs/\u57fa\u7840/\u9759\u6001\u8d44\u6e90","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u9759\u6001\u8d44\u6e90"},"sidebar":"20RlDqN0gcLo5olY","previous":{"title":"\u642d\u5efa http","permalink":"/NodeJs/\u57fa\u7840/\u642d\u5efa http"},"next":{"title":"\u8bf7\u6c42\u5bf9\u8c61","permalink":"/NodeJs/\u57fa\u7840/\u8bf7\u6c42\u5bf9\u8c61"}}');var o=n(47259),s=n(29087);const a={title:"\u9759\u6001\u8d44\u6e90"},i="\u53ea\u9002\u5408\u5c0f\u9879\u76ee",c={},l=[];function p(e){const t={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"\u53ea\u9002\u5408\u5c0f\u9879\u76ee",children:"\u53ea\u9002\u5408\u5c0f\u9879\u76ee"})}),"\n",(0,o.jsx)(t.p,{children:"\u7528 Node \u63d0\u4f9b\u9759\u6001\u8d44\u6e90\u53ea\u9002\u7528\u4e8e\u521d\u671f\u7684\u5c0f\u578b\u9879\u76ee\uff0c\u5bf9\u4e8e\u6bd4\u8f83\u5927\u7684\u9879\u76ee\uff0c\u4f60\u5e94\u8be5\u4f1a\u60f3\u7528 Nginx \u6216 CDN \u4e4b\u7c7b\u7684\u4ee3\u7406\u670d\u52a1\u5668\u6765\u63d0\u4f9b\u9759\u6001\u8d44\u6e90\u3002"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:"import http from 'http';//\u5f15\u5165 http \u670d\u52a1\nimport fs from 'fs';//\u5f15\u5165 fs \u6587\u4ef6\u7cfb\u7edf\nfunction serveStaticFile(res,path,contentType,responseCode){\n  if(!responseCode)\n    responseCode = 200;\n  fn.sendFile(__dirname + path,(err,data)=>{\n  if(err){\n    res.writeHead(500,{'Content-Type':'text/plain'});\n    res.send('500 - Internal Error');\n  }else{\n    res.writeHead(responseCode,{'Content-Type':'contentType'});\n    res.send(data);\n  }\n  });\n}\n\nhttp.createServer((req, res) => {\n  var path = req.url.replace(/\\/?(?:\\?.\\*$),'').toLowerCase();\n  switch(path){\n    case '':\n      serveStaticFile(res,'/public/home.html','text/html');\n    break;\n    case '/about':\n      serveStaticFile(res,'/public/about.html','text/html');\n    break;\n    case '/img/logo.jpg':\n      serveStaticFile(res,'/public/img/logo.jpg','image/jpeg');\n    break;\n    default:\n      serveStaticFile(res,'/public/404.html','text/html');\n    break;\n  }\n});\n\nconsole.log('i am coming');\n"})})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}}}]);