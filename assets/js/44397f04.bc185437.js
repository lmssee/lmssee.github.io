"use strict";(globalThis.webpackChunknotebook=globalThis.webpackChunknotebook||[]).push([[92512],{47398(n,e,o){o.r(e),o.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>w,frontMatter:()=>s,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"indexedDB/\u66f4\u65b0","title":"\u66f4\u65b0","description":"\u6210\u529f\u8fde\u63a5\u540e\uff0c\u8fd8\u9700\u8981\u521b\u5efa\u5bf9\u8c61\u4ed3\u5e93\uff0c\u624d\u80fd\u8fdb\u4e00\u6b65\u68c0\u7d22\u6570\u636e\u5e93\u3002\u5bf9\u8c61\u6570\u636e\u5e93\u76f8\u5f53\u4e8e\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u8868\u3002","source":"@site/html/indexedDB/\u66f4\u65b0.mdx","sourceDirName":"indexedDB","slug":"/indexedDB/\u66f4\u65b0","permalink":"/html/indexedDB/\u66f4\u65b0","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u66f4\u65b0"},"sidebar":"RRhFQ58Ul1J5KCbn","previous":{"title":"\u8fde\u63a5","permalink":"/html/indexedDB/\u8fde\u63a5"},"next":{"title":"\u5efa\u5e93","permalink":"/html/indexedDB/\u5efa\u5e93"}}');var d=o(56730),i=o(25502);const s={title:"\u66f4\u65b0"},r="\u66f4\u7ec6\u6570\u636e\u5e93\u7248\u672c",c={},a=[];function l(n){const e={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"\u66f4\u7ec6\u6570\u636e\u5e93\u7248\u672c",children:"\u66f4\u7ec6\u6570\u636e\u5e93\u7248\u672c"})}),"\n",(0,d.jsx)(e.p,{children:"\u6210\u529f\u8fde\u63a5\u540e\uff0c\u8fd8\u9700\u8981\u521b\u5efa\u5bf9\u8c61\u4ed3\u5e93\uff0c\u624d\u80fd\u8fdb\u4e00\u6b65\u68c0\u7d22\u6570\u636e\u5e93\u3002\u5bf9\u8c61\u6570\u636e\u5e93\u76f8\u5f53\u4e8e\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u8868\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u5728 indexedDB \u6570\u636e\u5e93\u4e2d\uff0c\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u5fc5\u987b\u5728\u4e00\u4e2a\u4e8b\u52a1\u5185\u6267\u884c\u3002\u4e8b\u52a1\u5206\u4e3a\u4e09\u79cd\uff1a\u53ea\u8bfb\u4e8b\u52a1 \u3001 \u8bfb\u5199\u4e8b\u52a1 \u3001 \u7248\u672c\u66f4\u65b0\u4e8b\u52a1\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u5bf9\u4e8e\u521b\u5efa\u5bf9\u8c61\u4e8b\u52a1\u548c\u7d22\u5f15\u7684\u64cd\u4f5c\uff0c\u53ea\u80fd\u5728\u7248\u672c\u66f4\u65b0\u7684\u4e8b\u7269\u5185\u90e8\u5185\u90e8\u8fdb\u884c\u3002\u56e0\u4e3a\u5728 indexedDB API\n\u4e2d\u4e0d\u5141\u8bb8\u6570\u636e\u5e93\u7684\u6570\u636e\u4ed3\u5e93\u5728\u540c\u4e00\u7248\u672c\u53d1\u751f\u53d8\u5316\uff0c\u6240\u4ee5\u5f53\u521b\u5efa\u6216\u5220\u9664\u4ed3\u5e93\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528\u65b0\u7684\u7248\u672c\u53f7\u66f4\u65b0\u6570\u636e\u5e93\u7684\u7248\u672c\uff0c\u4ee5\u514d\u91cd\u590d\u4fee\u6539\u6570\u636e\u5e93\u7684\u6570\u636e\u5e93\u7ed3\u6784\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-js",metastring:"showLineNumbers",children:"window.indexedDB =\n  window.indexedDB ||\n  window.webkitIndexedDB ||\n  window.mozIndexedDB ||\n  window.msIndexedDB;\nwindow.IDBTransaction =\n  window.IDBTransaction ||\n  window.webkitIDBTransaction ||\n  window.msIDBTransaction;\nwindow.IDBKeyRange =\n  window.IDBKeyRange || window.webkitIDBKeyRange || window.msIDBKeyRange;\nwindow.IDBCursor =\n  window.IDBCursor || window.webkitIDBCursor || window.msIDBCursor;\n/**\n *\n */\nfunction updateVersion() {\n  const dbName = 'indexedDBTest';\n  // \u6570\u636e\u5e93\u540d\n  const dbVersion = 20220430; // \u7248\u672c\u53f7\n  let idb;\n  const dbConnect = indexedDB.open(dbName, dbVersion);\n  dbConnect.onsuccess = function (e) {\n    idb = e.target.result;\n    console.log('\u6570\u636e\u5e93\u8fde\u63a5\u6210\u529f');\n  };\n  dbConnect.onerror = function (e) {\n    console.log('\u8fde\u63a5 indexedDB \u6570\u636e\u5e93\u5931\u8d25');\n  };\n  dbConnect.onupgradeneeded = function (e) {\n    idb = e.target.result;\n    const t = e.target.transaction;\n    const o = e.oldVersion;\n    const n = e.newVersion;\n    console.log('\u6570\u636e\u5e93\u7248\u672c\u5df2\u66f4\u65b0\u6210\u529f\uff0c\u65e7\u7248\u672c\u53f7\u4e3a' + o + '\u65b0\u7248\u672c\u53f7\u4e3a' + n);\n  };\n}\n"})})]})}function w(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(l,{...n})}):l(n)}},25502(n,e,o){o.d(e,{R:()=>s,x:()=>r});var t=o(10162);const d={},i=t.createContext(d);function s(n){const e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:s(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);