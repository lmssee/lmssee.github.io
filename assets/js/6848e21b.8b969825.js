"use strict";(globalThis.webpackChunknotebook=globalThis.webpackChunknotebook||[]).push([[49469],{13243(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"XHR 2/\u5904\u7406\u503c","title":"\u5904\u7406\u503c","description":"\u4f7f\u7528 responseText \u548c responseXML \u5c5e\u6027\u90fd\u53ef\u4ee5\u83b7\u53d6\u8fd4\u56de\u7684\u503c\uff0c\u5982\u679c\u54cd\u5e94\u6570\u636e\u4e0d\u662f\u6709\u6548\u7684 XML \u6587\u6863\uff0c\u800c\u4f7f\u7528\u4e86 responseXML \u5c5e\u6027\uff0c\u90a3\u4e48\u5c31\u4f1a\u51fa\u73b0\u89e3\u6790\u9519\u8bef\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u5bf9 responseXML","source":"@site/js/XHR 2/\u5904\u7406\u503c.mdx","sourceDirName":"XHR 2","slug":"/XHR 2/\u5904\u7406\u503c","permalink":"/XHR 2/\u5904\u7406\u503c","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u5904\u7406\u503c"},"sidebar":"WabgeZrdzehcrQF7","previous":{"title":"\u57fa\u7840","permalink":"/XHR 2/\u57fa\u7840"},"next":{"title":"\u8de8\u57df","permalink":"/XHR 2/\u8de8\u57df"}}');var s=r(56730),l=r(25502);const o={title:"\u5904\u7406\u503c"},i="\u5904\u7406",c={},a=[{value:"\u4e00\u65e6\u8fd4\u56de\u7684\u6570\u636e\u88ab\u89e3\u6790\u4e3a XML DOM \uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u6807\u51c6\u7684\u6838\u5fc3 DOM \u65b9\u6cd5\u5904\u7406\u8be5\u6587\u6863\u5904\u7406\u89e3\u6790\u9519\u8bef",id:"\u4e00\u65e6\u8fd4\u56de\u7684\u6570\u636e\u88ab\u89e3\u6790\u4e3a-xml-dom-\u5c31\u53ef\u4ee5\u4f7f\u7528\u6807\u51c6\u7684\u6838\u5fc3-dom-\u65b9\u6cd5\u5904\u7406\u8be5\u6587\u6863\u5904\u7406\u89e3\u6790\u9519\u8bef",level:2},{value:"DOMParser",id:"domparser",level:2},{value:"XMLSerializer",id:"xmlserializer",level:2},{value:"DOMImplementation",id:"domimplementation",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u5904\u7406",children:"\u5904\u7406"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528 responseText \u548c responseXML \u5c5e\u6027\u90fd\u53ef\u4ee5\u83b7\u53d6\u8fd4\u56de\u7684\u503c\uff0c\u5982\u679c\u54cd\u5e94\u6570\u636e\u4e0d\u662f\u6709\u6548\u7684 XML \u6587\u6863\uff0c\u800c\u4f7f\u7528\u4e86 responseXML \u5c5e\u6027\uff0c\u90a3\u4e48\u5c31\u4f1a\u51fa\u73b0\u89e3\u6790\u9519\u8bef\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u5bf9 responseXML\n\u5c5e\u6027\u89e3\u6790\u9519\u8bef\u7684\u54cd\u5e94\u4e0d\u540c\u3002"}),"\n",(0,s.jsx)(n.p,{children:"XMLHttpRequest \u5c06\u54cd\u5e94\u4fe1\u606f\u89e3\u7801\u4e3a Unicode \u5b57\u7b26\u4e32\uff0c\u9ed8\u8ba4\u5c06\u54cd\u5e94\u6570\u636e\u7684\u7f16\u7801\u89c6\u4e3a UTF-8 \uff0c\u4f46\u5982\u679c\u53d1\u73b0\u54cd\u5e94\u6570\u636e\u5305\u542b\u5176\u5b83 Unicode \u6807\u793a\u5b57\u8282\uff08 UCS-2 \u6216\u8005 UCS-4\n\uff09\uff0c\u90a3\u4e48\u4e5f\u53ef\u4ee5\u6b63\u786e\u89e3\u7801\u5176\u4e2d\u7684\u6570\u636e\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6ce8\u610f\uff0c\u5982\u679c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u662f XML \u683c\u5f0f\u6587\u6863\uff0c responseText \u5c5e\u6027\u5e76\u4e0d\u5904\u7406 XML \u6587\u6863\u4e2d\u7684\u7f16\u7801\u58f0\u660e\uff0c\u8fd9\u65f6\u9700\u8981\u4f7f\u7528 responseXML \u5c5e\u6027\u6765\u5904\u7406\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u4e00\u65e6\u8fd4\u56de\u7684\u6570\u636e\u88ab\u89e3\u6790\u4e3a-xml-dom-\u5c31\u53ef\u4ee5\u4f7f\u7528\u6807\u51c6\u7684\u6838\u5fc3-dom-\u65b9\u6cd5\u5904\u7406\u8be5\u6587\u6863\u5904\u7406\u89e3\u6790\u9519\u8bef",children:"\u4e00\u65e6\u8fd4\u56de\u7684\u6570\u636e\u88ab\u89e3\u6790\u4e3a XML DOM \uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u6807\u51c6\u7684\u6838\u5fc3 DOM \u65b9\u6cd5\u5904\u7406\u8be5\u6587\u6863\u5904\u7406\u89e3\u6790\u9519\u8bef"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u4f7f\u7528 responseXML \u5c5e\u6027\u65f6\uff0c\u5982\u679c\u51fa\u73b0\u89e3\u6790\u9519\u8bef\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c06\u4f1a\u505a\u5982\u4e0b\u54cd\u5e94\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Chrome \u548c Safari \u5c06\u8be5\u5c5e\u6027\u503c\u7684\u8bbe\u7f6e\u4e3a null"}),"\n",(0,s.jsx)(n.li,{children:"IE \u3001 Firefox \u548c Opera \u4f1a\u5c06\u8be5\u5c5e\u6027\u503c\u8fd4\u56de\u4e00\u4e2a Document \u5bf9\u8c61\uff0c\u4f46\u662f\u8be5 Document \u5bf9\u8c61\u5177\u6709\u4e0d\u540c\u7684\u503c"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Opera \u4ec5\u4ec5\u5305\u542b\u6709\u4e00\u4e2a XML \u58f0\u660e\uff0c\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:"showLineNumbers",children:'<?xml version= "1.0" ?>\n  Firefox \u8fd4\u56de\u5177\u6709\u5982\u4e0b\u5185\u5bb9\u7684 Document \u5bf9\u8c61\uff1a\n  <?xml\nversion= "1.0" encoding= "uft-8" ?> <parsererror xmlns="http://www.mozilla.org/newlayout/xml/parsererror.xml">\n`XML \u89e3\u6790\u9519\u8bef\uff1a\u672a\u7ec4\u7ec7\u597d\u4f4d\u7f6e\uff1a http://localhost/employees.xml \u884c\uff1a 2 \uff0c\u5217\uff1a 2 \uff1a\n<sourcetext>m <employee>m -^ </sourcetext> </parsererror>\n'})}),"\n",(0,s.jsx)(n.p,{children:"IE \u5219\u8fd4\u56de\u66f4\u4e3a\u590d\u6742\u7684 Document \u5bf9\u8c61\uff0c\u8be5 Document \u5bf9\u8c61\u5177\u6709\u4e00\u4e2a\u540d\u4e3a parseError \u7684\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u5305\u542b\u6709\u9519\u8bef\u4ee3\u7801\uff0c\u901a\u8fc7\u8be5\u5bf9\u8c61\u53ef\u4ee5\u83b7\u53d6\u51fa\u9519\u7684\u8be6\u7ec6\u4fe1\u606f\u3002"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"\u5c5e\u6027"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"errorCode"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"\u8fd4\u56de\u4e00\u4e2a\u957f\u6574\u578b\u9519\u8bef\u7801"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"reason"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"\u8fd4\u56de\u5305\u542b\u9519\u8bef\u539f\u56e0\u7684\u5b57\u7b26\u4e32"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"line"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"\u8fd4\u56de\u8868\u793a\u9519\u8bef\u884c\u53f7\u7684\u957f\u6574\u578b"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"linepos"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"\u8fd4\u56de\u8868\u793a\u9519\u8bef\u7684\u884c\u4f4d\u7f6e\u7684\u957f\u6574\u578b"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"srcText"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"\u8fd4\u56de\u5305\u542b\u5f15\u8d77\u9519\u8bef\u7684\u884c\u7684\u5b57\u7b26\u4e32"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"url"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"\u8fd4\u56de\u6307\u5411\u88ab\u52a0\u8f7d\u6587\u6863\u7684 URL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"filepos"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"\u8fd4\u56de\u9519\u8bef\u7684\u4e00\u4e2a\u957f\u6574\u578b\u7684\u6587\u4ef6\u4f4d\u7f6e"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c errorCode \u5c5e\u6027\u7684\u503c\u4e3a 0 \uff0c\u90a3\u4e48\u5c31\u8868\u793a\u6ca1\u6709\u51fa\u73b0\u89e3\u6790\u9519\u8bef\uff0c\u6b64\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 IE \u4e13\u7528\u7684 xml \u5c5e\u6027\u5c06 Document \u5bf9\u8c61\u8f6c\u6362\u4e3a XML \u5b57\u7b26\u4e32\u6216\u8005\u5bf9 Document \u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6ce8\u610f\uff0c parseError \u5bf9\u8c61\u4e0d\u5c5e\u4e8e W3CDOM \u6807\u51c6\uff0c\u800c\u662f IE \u4e13\u6709\u7684\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u7efc\u5408\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u4e0d\u540c\u54cd\u5e94\u7ed3\u679c\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u8fdb\u884c\u5904\u7406\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"// \u72b6\u6001\u7801\u663e\u793a\u8fd4\u56de\u4e86\u7ed3\u679c\uff0c\u4e0b\u9762\u5904\u7406\u7ed3\u679c\nif (oXMLHttpRequest.status == 200) {\n  try {\n    var doc = oXMLHttpRequest.responseXML;\n    // \u68c0\u67e5 doc \u662f\u5426\u4e3a null \uff0c\u5982\u679c\u4e0d\u662f null \uff0c IE \u3001 FireFox \u548c Opera \u5206\u522b\u505a\u51fa\u54cd\u5e94\n    //\n    if (doc) {\n      // IE\n      if (doc.parseError) {\n        var parseError = doc.parseError;\n        if (parseError.errorCode != 0) {\n          var err = ' \u89e3\u6790\u51fa\u73b0\u9519\u8bef\uff01  n ';\n          err += 'errorCode =' + parseError.errorCode + '\\n ';\n          err += 'filepos =' + parseError.filepos + '\\n ';\n          err += 'line =' + parseError.line + '\\n ';\n          err += 'linepos=' + parseError.linepos + '\\n ';\n          err += 'reason =' + parseError.reason + '\\n ';\n          err += 'srcText =' + parseError.srcText + '\\n ';\n          err += 'url =' + parseError.url + '\\n ';\n          alert(err); // IE \u89e3\u6790\u51fa\u9519\n          return;\n        } else {\n          console.log(doc.xml);\n          // IE \u6b63\u786e\u89e3\u6790\n        }\n        // Firefox \u3001 Opera\n        //\n      } else {\n        // Firefox\n        if (doc.documentElement) {\n          if (doc.documentElement.nodeName == 'parsererror ') {\n            alert(' \u89e3\u6790\u51fa\u73b0\u9519\u8bef\uff01 '); // Firefox \u89e3\u6790\u51fa\u9519\n            return;\n          } else {\n            console.log(doc);\n            // \u5176\u5b83\u6d4f\u89c8\u5668\u6b63\u786e\u89e3\u6790\n          }\n          // Opera\n        } else {\n          alert(' \u89e3\u6790\u51fa\u73b0\u9519\u8bef\uff01 '); // Opera \u89e3\u6790\u51fa\u9519\n          return;\n        }\n      } // Chrome \u3001 Safari\n      //\n    } else {\n      alert(' \u89e3\u6790\u51fa\u73b0\u9519\u8bef\uff01 '); // Chrome \u3001 Safari \u89e3\u6790\u51fa\u9519\n      return;\n    }\n  } catch (err) {\n    alert(err.message);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u5904\u7406 responseXML \u5c5e\u6027\u8fd8\u662f\u76f8\u5f53\u9ebb\u70e6\uff0c\u63a8\u8350\u4f7f\u7528 responseText \u5c5e\u6027\uff0c\u8fd9\u662f\u4e00\u4e2a XML \u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u4e8e XML \u5b57\u7b26\u4e32\u548c DOM \u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u76ee\u524d\uff0c\u6d4f\u89c8\u5668\u5e7f\u6cdb\u652f\u6301 DOMParser \u548c XMLSerializer \u5bf9\u8c61\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"domparser",children:"DOMParser"}),"\n",(0,s.jsx)(n.p,{children:"DOMParser \u53ef\u4ee5\u89e3\u6790 XML \u6587\u672c\u5e76\u8fd4\u56de\u4e00\u4e2a Document \u5bf9\u8c61\u3002\u8981\u4f7f\u7528 DOMParser \uff0c\u5148\u8981\u4f7f\u7528\u4e0d\u5e26\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u6765\u5b9e\u4f8b\u5316\u5b83\uff0c\u7136\u540e\u8c03\u7528\u5176 parseFromString() \u65b9\u6cd5\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"const parser = new DOMParser();\nconst doc = parser.parseFromString(aStr, 'text / xml ');\nparseFromString();\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u65b9\u6cd5\u7684\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"parseFromString(text, contentType);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u53c2\u6570 text \u662f\u8981\u89e3\u6790\u7684 XML \u6587\u672c"}),"\n",(0,s.jsx)(n.li,{children:"\u53c2\u6570 contentType \u5b9a\u4e49\u53c2\u6570 text \u7684\u5185\u5bb9\u7c7b\u578b\u3002\u53ef\u9009\u503c\u5305\u62ec text/xml \u3001 application/xml \u548c application/xhtml+xml \u3002\u6ce8\u610f\uff0c\u4e0d\u652f\u6301 text/html"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a Document \u5bf9\u8c61\u3002"}),"\n",(0,s.jsx)(n.p,{children:"IE9 \u548c\u5176\u5b83\u4e3b\u6d41\u6d4f\u89c8\u5668\u90fd\u652f\u6301 DOMParser \u5bf9\u8c61\uff0c\u4f46 IE8 \u53ca\u4ee5\u4e0b\u7248\u672c\u4e0d\u652f\u6301\u8be5\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528 MSXML \u7684 Document.loadXML() \u8fdb\u884c XML \u89e3\u6790\u3002\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u7684\u505a\u6cd5\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"if (oXMLHttpRequest.status == 200) {\n  try {\n    const str = oXMLHttpRequest.responseText;\n    if (window.DOMParser) {\n      const parser = new DOMParser();\n      var doc = parser.parseFromString(str, 'text / xml ');\n    } else {\n      var doc = new ActiveXObject('Microsoft.XMLDOM ');\n      doc.async = 'false';\n      doc.loadXML(str);\n    }\n  } catch (err) {\n    alert(err.message);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u6ce8\u610f\uff0c XMLHttpRequest \u5bf9\u8c61\u4e5f\u53ef\u4ee5\u89e3\u6790 XML \u6587\u6863\u3002\u53ef\u4ee5\u53c2\u8003 XMLHttpRequest \u7684 responseXML \u5c5e\u6027\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"xmlserializer",children:"XMLSerializer"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528 XMLSerializer \u5bf9\u8c61\u53ef\u5c06\u4e00\u4e2a XML \u6587\u6863\u6216 Node \u5bf9\u8c61\u5e8f\u5217\u5316\u4e3a\u4e00\u4e2a XML \u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8981\u4f7f\u7528 XMLSerializer \uff0c\u9996\u5148\u4f7f\u7528\u4e0d\u5e26\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u5b9e\u4f8b\u5316\u5b83\uff0c\u7136\u540e\u8c03\u7528\u5176 serializeToString() \u65b9\u6cd5\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"const serializer = new XMLSerializer();\nconst xmlString = serializer.serializeToString(doc);\n"})}),"\n",(0,s.jsx)(n.p,{children:"serializeToString() \u65b9\u6cd5\u7684\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"serializeToString(node);\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u53c2\u6570 node \u662f\u8981\u5e8f\u5217\u5316\u7684 XML \u8282\u70b9\uff0c\u53ef\u80fd\u662f\u6587\u6863\u4e2d\u7684\u4e00\u4e2a Document \u5bf9\u8c61\u6216\u8005\u4efb\u4f55 Element \u3002"}),"\n",(0,s.jsx)(n.p,{children:"IE9 \u548c\u5176\u5b83\u4e3b\u6d41\u6d4f\u89c8\u5668\u90fd\u652f\u6301 XMLSerializer \u5bf9\u8c61\uff0c\u4f46 IE8 \u53ca\u4ee5\u4e0b\u7248\u672c\u4e0d\u652f\u6301\u8be5\u5bf9\u8c61\u3002\u53ef\u4ee5\u4f7f\u7528 MSXML \u7684 Node \u5bf9\u8c61\u7684 xml \u5c5e\u6027\u4f7f XML \u53d8\u4e3a\u5b57\u7b26\u4e32\u3002\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u7684\u505a\u6cd5\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"const doc = oXMLHttpRequest.responseXML;\nif (window.XMLSerializer) {\n  const serializer = new XMLSerializer();\n  var xmlString = serializer.serializeToString(doc);\n} else {\n  var xmlString = doc.xml;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"domimplementation",children:"DOMImplementation"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u8981\u521b\u5efa\u4e00\u4e2a Document \u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528 DOMParser \uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 DOMImplementation \uff0c DOMImplementation \u4f7f\u7528 document.implementation\n\u5c5e\u6027\u8fd4\u56de\uff0c\u7136\u540e\u4f7f\u7528 DOMImplementation \u5bf9\u8c61\u7684 createDocument() \u65b9\u6cd5\u5c31\u53ef\u4ee5\u521b\u5efa Document \u5bf9\u8c61\u3002"}),"\n",(0,s.jsx)(n.p,{children:"createDocument() \u65b9\u6cd5\u7684\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"createDocument(namespaceURI, qualifiedName, doctype);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u53c2\u6570 namespaceURI \u8868\u793a Document \u5bf9\u8c61\u6240\u4f7f\u7528\u7684\u547d\u540d\u7a7a\u95f4 URI \u5b57\u7b26\u4e32"}),"\n",(0,s.jsx)(n.li,{children:"\u53c2\u6570 qualifiedName \u8868\u793a\u6587\u6863\u6839\u5143\u7d20\u7684\u540d\u79f0"}),"\n",(0,s.jsx)(n.li,{children:"\u53c2\u6570 doctype \u8868\u793a\u8981\u521b\u5efa\u7684\u6587\u6863\u7684\u7c7b\u578b\u3002\u76ee\u524d\uff0c\u6d4f\u89c8\u5668\u4e2d\u7684 JavaScript \u89e3\u6790\u5668\u5e76\u4e0d\u652f\u6301\u6587\u6863\u7c7b\u578b\uff0c\u6240\u4ee5\u8be5\u53c2\u6570\u603b\u662f\u4e3a null"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7a7a Document \u5bf9\u8c61\u3002"}),"\n",(0,s.jsx)(n.p,{children:'var oDOMImpl = document.implementation;var doc =\noDOMImpl.createDocument( " ", " ", null);'}),"\n",(0,s.jsx)(n.p,{children:"\u518d\u770b\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a XHTML1.0 \u6587\u6863\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:'var oDOMImpl = document.implementation;var doc =\noDOMImpl.createDocument( "http://www.w3.org/1999/xhtml" ;, "html ",\nnull);\nalert((new XMLSerializer()).serializeToString(doc));\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u65e6\u521b\u5efa\u4e86 Document \u5bf9\u8c61\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u6807\u51c6\u7684\u6838\u5fc3 DOM \u65b9\u6cd5\u64cd\u4f5c\u6587\u6863\u4e86\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"const oDOMImpl = document.implementation;\nconst doc = oDOMImpl.createDocument('http://lmssee.com/about/', 'book ', null); // \u8fd4\u56de\u6839\u5143\u7d20\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\u524d\u9762\u4ecb\u7ecd\u7684\u6807\u51c6 DOM \u63a5\u53e3\u5904\u7406\u6587\u6863\u4e86\nconst root = doc.documentElement;\n// \u521b\u5efa\u4e00\u4e2a p \u5143\u7d20\u8282\u70b9\nconst oElementNode = doc.createElement('p ');\n// \u521b\u5efa\u4e00\u4e2a\u6587\u672c\u8282\u70b9\nconst oTextNode = doc.createTextNode('JavaScript \u6743\u5a01\u6307\u5357 ');\n\n// \u8ffd\u52a0\u8282\u70b9\noElementNode.appendChild(oTextNode);\nroot.appendChild(oElementNode); // \u67e5\u770b\u5185\u5bb9\nalert(new XMLSerializer().serializeToString(doc));\n"})}),"\n",(0,s.jsx)(n.p,{children:"DOMImplementation.createDocument() \u65b9\u6cd5\u5728 IE8 \u53ca\u4ee5\u4e0b\u7248\u672c\u6d4f\u89c8\u5668\u4e0a\u65e0\u6cd5\u6267\u884c\uff0c\u6240\u4ee5\u8003\u8651\u5230\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u517c\u5bb9\u6027\u505a\u6cd5\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"const oDOMImpl = document.implementation;\nif (oDOMImpl.createDocument) {\n  var doc = oDOMImpl.createDocument(str, 'html ', null);\n} else if (window.DOMParser) {\n  const parser = new DOMParser();\n  var doc = parser.parseFromString('xmlstr ', 'text / xml ');\n} else {\n  var doc = new ActiveXObject('Microsoft.XMLDOM ');\n  doc.async = 'false ';\n  doc.loadXML('xmlstr ');\n}\n"})})]})}function m(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},25502(e,n,r){r.d(n,{R:()=>o,x:()=>i});var t=r(10162);const s={},l=t.createContext(s);function o(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);