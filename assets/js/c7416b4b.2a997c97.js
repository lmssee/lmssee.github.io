"use strict";(globalThis.webpackChunknotebook=globalThis.webpackChunknotebook||[]).push([[44894],{49553(n,e,o){o.r(e),o.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"indexedDB/\u83b7\u53d6","title":"\u83b7\u53d6","description":"\u57fa\u672c\u601d\u60f3\uff1a","source":"@site/html/indexedDB/\u83b7\u53d6.mdx","sourceDirName":"indexedDB","slug":"/indexedDB/\u83b7\u53d6","permalink":"/html/indexedDB/\u83b7\u53d6","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\u83b7\u53d6"},"sidebar":"RRhFQ58Ul1J5KCbn","previous":{"title":"\u4fdd\u5b58","permalink":"/html/indexedDB/\u4fdd\u5b58"},"next":{"title":"\u68c0\u7d22","permalink":"/html/indexedDB/\u68c0\u7d22"}}');var s=o(56730),i=o(25502);const r={title:"\u83b7\u53d6"},d="\u83b7\u53d6\u6570\u636e",c={},l=[];function a(n){const e={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u83b7\u53d6\u6570\u636e",children:"\u83b7\u53d6\u6570\u636e"})}),"\n",(0,s.jsx)(e.p,{children:"\u57fa\u672c\u601d\u60f3\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u8fde\u63a5\u67d0\u4e2a\u6570\u636e\u5e93"}),"\n",(0,s.jsx)(e.li,{children:"get \u6570\u636e"}),"\n",(0,s.jsx)(e.li,{children:"\u8bf7\u6c42\u53d1\u51fa\u540e\u7acb\u5373\u5f02\u6b65\uff0c\u76d1\u542c onerror \u548c onsuccess"}),"\n",(0,s.jsx)(e.li,{children:"\u8bf7\u6c42\u6210\u529f\u540e\u5904\u7406\u6570\u636e"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",metastring:"showLineNumbers",children:"window.indexedDB =\n  window.indexedDB ||\n  window.webkitIndexedDB ||\n  window.mozIndexedDB ||\n  window.msIndexedDB;\nwindow.IDBTransaction =\n  window.IDBTransaction ||\n  window.webkitIDBTransaction ||\n  window.msIDBTransaction;\nwindow.IDBKeyRange =\n  window.IDBKeyRange || window.webkitIDBKeyRange || window.msIDBKeyRange;\nwindow.IDBCursor =\n  window.IDBCursor || window.webkitIDBCursor || window.msIDBCursor;\n/**\n *\n */\nfunction getData() {\n  const dbName = 'indexedDBTest'; // \u6570\u636e\u5e93\u540d\n  const dbVersion = 20220430; // \u7248\u672c\u53f7\n  let idb;\n  const dbConnect = indexedDB.open(dbName, dbVersion);\n  dbConnect.onsuccess = function (e) {\n    idb = e.target.result;\n    const t = idb.transaction(['users'], 'readonly');\n    const s = t.objectStore('users');\n    const r = s.get(1);\n    r.onsuccess = function (e) {\n      if (this.result == undefined) console.log('\u6ca1\u6709\u7b26\u5408\u7684\u6570\u636e');\n      else console.log('\u6570\u636e\u83b7\u53d6\u6210\u529f\uff0c\u7528\u6237\u540d\u4e3a\uff1a' + this.result.userName);\n    };\n    r.onerror = function (e) {\n      console.log('\u6570\u636e\u83b7\u53d6\u5931\u8d25');\n    };\n  };\n  dbConnect.onerror = function (e) {\n    console.log('\u8fde\u63a5 indexedDB \u6570\u636e\u5e93\u5931\u8d25');\n  };\n}\n"})})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},25502(n,e,o){o.d(e,{R:()=>r,x:()=>d});var t=o(10162);const s={},i=t.createContext(s);function r(n){const e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);